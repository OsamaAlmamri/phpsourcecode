!function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)}(function(a){a.defineOption("showTrailingSpace",!1,function(l,p,f){f==a.Init&&(f=!1);f&&!p?l.removeOverlay("trailingspace"):!f&&p&&l.addOverlay({token:function(a){for(var c=a.string.length,d=c;d&&/\s/.test(a.string.charAt(d-1));--d);return d>a.pos?(a.pos=d,null):(a.pos=c,"trailingspace")},name:"trailingspace"})})});
(function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)})(function(a){function l(a,m,c){var d;return d=a.getWrapperElement().appendChild(document.createElement("div")),c?d.className="CodeMirror-dialog CodeMirror-dialog-bottom":d.className="CodeMirror-dialog CodeMirror-dialog-top","string"==typeof m?d.innerHTML=m:d.appendChild(m),d}function p(a,m){a.state.currentNotificationClose&&
a.state.currentNotificationClose();a.state.currentNotificationClose=m}a.defineExtension("openDialog",function(f,m,c){function d(g){"string"==typeof g?k.value=g:e||(e=!0,h.parentNode.removeChild(h),n.focus(),c.onClose&&c.onClose(h))}c||(c={});p(this,null);var b,h=l(this,f,c.bottom),e=!1,n=this,k=h.getElementsByTagName("input")[0];return k?(c.value&&(k.value=c.value,k.select()),c.onInput&&a.on(k,"input",function(g){c.onInput(g,k.value,d)}),c.onKeyUp&&a.on(k,"keyup",function(g){c.onKeyUp(g,k.value,d)}),
a.on(k,"keydown",function(g){c&&c.onKeyDown&&c.onKeyDown(g,k.value,d)||((27==g.keyCode||!1!==c.closeOnEnter&&13==g.keyCode)&&(k.blur(),a.e_stop(g),d()),13==g.keyCode&&m(k.value,g))}),!1!==c.closeOnBlur&&a.on(k,"blur",d),k.focus()):(b=h.getElementsByTagName("button")[0])&&(a.on(b,"click",function(){d();n.focus()}),!1!==c.closeOnBlur&&a.on(b,"blur",d),b.focus()),d});a.defineExtension("openConfirm",function(f,m,c){function d(){h||(h=!0,b.parentNode.removeChild(b),e.focus())}p(this,null);var b=l(this,
f,c&&c.bottom);f=b.getElementsByTagName("button");var h=!1,e=this,n=1;f[0].focus();for(c=0;c<f.length;++c){var k=f[c];!function(g){a.on(k,"click",function(c){a.e_preventDefault(c);d();g&&g(e)})}(m[c]);a.on(k,"blur",function(){--n;setTimeout(function(){0>=n&&d()},200)});a.on(k,"focus",function(){++n})}});a.defineExtension("openNotification",function(f,m){function c(){h||(h=!0,clearTimeout(d),b.parentNode.removeChild(b))}p(this,c);var d,b=l(this,f,m&&m.bottom),h=!1,e=m&&"undefined"!=typeof m.duration?
m.duration:5E3;return a.on(b,"click",function(b){a.e_preventDefault(b);c()}),e&&(d=setTimeout(c,e)),c})});
(function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)})(function(a){function l(a,c,d,b){if(this.atOccurrence=!1,this.doc=a,null==b&&"string"==typeof c&&(b=!1),d=d?a.clipPos(d):f(0,0),this.pos={from:d,to:d},"string"!=typeof c)c.global||(c=new RegExp(c.source,c.ignoreCase?"ig":"g")),this.matches=function(g,b){if(g){c.lastIndex=0;for(var e,d,n=a.getLine(b.line).slice(0,b.ch),
h=0;;){c.lastIndex=h;var k=c.exec(n);if(!k)break;if(e=k,d=e.index,h=e.index+(e[0].length||1),h==n.length)break}(h=e&&e[0].length||0)||(0==d&&0==n.length?e=void 0:d!=a.getLine(b.line).length&&h++)}else c.lastIndex=b.ch,n=a.getLine(b.line),h=(e=c.exec(n))&&e[0].length||0,d=e&&e.index,d+h==n.length||h||(h=1);return e&&h?{from:f(b.line,d),to:f(b.line,d+h),match:e}:void 0};else{var h=c;b&&(c=c.toLowerCase());var e=b?function(a){return a.toLowerCase()}:function(a){return a},n=c.split("\n");if(1==n.length)c.length?
this.matches=function(g,b){if(g){var d=a.getLine(b.line).slice(0,b.ch),n=e(d),k=n.lastIndexOf(c);if(-1<k)return k=p(d,n,k),{from:f(b.line,k),to:f(b.line,k+h.length)}}else if(d=a.getLine(b.line).slice(b.ch),n=e(d),k=n.indexOf(c),-1<k)return k=p(d,n,k)+b.ch,{from:f(b.line,k),to:f(b.line,k+h.length)}}:this.matches=function(){};else{var k=h.split("\n");this.matches=function(g,b){var c=n.length-1;if(g){if(b.line-(n.length-1)<a.firstLine()||e(a.getLine(b.line).slice(0,k[c].length))!=n[n.length-1])return;
for(var d=f(b.line,k[c].length),h=b.line-1,r=c-1;1<=r;--r,--h)if(n[r]!=e(a.getLine(h)))return;var r=a.getLine(h),p=r.length-k[0].length;return e(r.slice(p))!=n[0]?void 0:{from:f(h,p),to:d}}if(!(b.line+(n.length-1)>a.lastLine())&&(r=a.getLine(b.line),p=r.length-k[0].length,e(r.slice(p))==n[0])){d=f(b.line,p);h=b.line+1;for(r=1;c>r;++r,++h)if(n[r]!=e(a.getLine(h)))return;if(e(a.getLine(h).slice(0,k[c].length))==n[c])return{from:d,to:f(h,k[c].length)}}}}}}function p(a,c,d){if(a.length==c.length)return d;
for(c=Math.min(d,a.length);;){var b=a.slice(0,c).toLowerCase().length;if(d>b)++c;else{if(!(b>d))return c;--c}}}var f=a.Pos;l.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(a){function c(a){a=f(a,0);return d.pos={from:a,to:a},d.atOccurrence=!1,!1}for(var d=this,b=this.doc.clipPos(a?this.pos.from:this.pos.to);;){if(this.pos=this.matches(a,b))return this.atOccurrence=!0,this.pos.match||!0;if(a){if(!b.line)return c(0);b=f(b.line-1,this.doc.getLine(b.line-
1).length)}else{var h=this.doc.lineCount();if(b.line==h-1)return c(h);b=f(b.line+1,0)}}},from:function(){return this.atOccurrence?this.pos.from:void 0},to:function(){return this.atOccurrence?this.pos.to:void 0},replace:function(m){this.atOccurrence&&(m=a.splitLines(m),this.doc.replaceRange(m,this.pos.from,this.pos.to),this.pos.to=f(this.pos.from.line+m.length-1,m[m.length-1].length+(1==m.length?this.pos.from.ch:0)))}};a.defineExtension("getSearchCursor",function(a,c,d){return new l(this.doc,a,c,d)});
a.defineDocExtension("getSearchCursor",function(a,c,d){return new l(this,a,c,d)});a.defineExtension("selectMatches",function(f,c){for(var d=[],b=this.getSearchCursor(f,this.getCursor("from"),c);b.findNext()&&!(0<a.cmpPos(b.to(),this.getCursor("to")));)d.push({anchor:b.from(),head:b.to()});d.length&&this.setSelections(d,0)})});
(function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror"),require("./searchcursor"),require("../dialog/dialog")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./searchcursor","../dialog/dialog"],a):a(CodeMirror)})(function(a){function l(a,b){return"string"==typeof a?a=new RegExp(a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),b?"gi":"g"):a.global||(a=new RegExp(a.source,a.ignoreCase?"gi":"g")),{token:function(b){a.lastIndex=b.pos;
var g=a.exec(b.string);return g&&g.index==b.pos?(b.pos+=g[0].length,"searching"):void(g?b.pos=g.index:b.skipToEnd())}}}function p(){this.overlay=this.posFrom=this.posTo=this.query=null}function f(a){return a.state.search||(a.state.search=new p)}function m(a){return"string"==typeof a&&a==a.toLowerCase()}function c(a,b,g){return a.getSearchCursor(b,g,m(b))}function d(a,b,g,c,d){a.openDialog?a.openDialog(b,d,{value:c}):d(prompt(g,c))}function b(a,b,g,c){a.openConfirm?a.openConfirm(b,c):confirm(g)&&c[0]()}
function h(a){var b=a.match(/^\/(.*)\/([a-z]*)$/);if(b)try{a=new RegExp(b[1],-1==b[2].indexOf("i")?"":"i")}catch(g){}return("string"==typeof a?""==a:a.test(""))&&(a=/x^/),a}function e(a,b){var g=f(a);return g.query?n(a,b):void d(a,q,"Search for:",a.getSelection(),function(c){a.operation(function(){c&&!g.query&&(g.query=h(c),a.removeOverlay(g.overlay,m(g.query)),g.overlay=l(g.query,m(g.query)),a.addOverlay(g.overlay),a.showMatchesOnScrollbar&&(g.annotate&&(g.annotate.clear(),g.annotate=null),g.annotate=
a.showMatchesOnScrollbar(g.query,m(g.query))),g.posFrom=g.posTo=a.getCursor(),n(a,b))})})}function n(b,g){b.operation(function(){var d=f(b),n=c(b,d.query,g?d.posFrom:d.posTo);(n.find(g)||(n=c(b,d.query,g?a.Pos(b.lastLine()):a.Pos(b.firstLine(),0)),n.find(g)))&&(b.setSelection(n.from(),n.to()),b.scrollIntoView({from:n.from(),to:n.to()}),d.posFrom=n.from(),d.posTo=n.to())})}function k(a){a.operation(function(){var b=f(a);b.query&&(b.query=null,a.removeOverlay(b.overlay),b.annotate&&(b.annotate.clear(),
b.annotate=null))})}function g(a,g){a.getOption("readOnly")||d(a,t,"Replace:",a.getSelection(),function(n){n&&(n=h(n),d(a,w,"Replace with:","",function(d){if(g)a.operation(function(){for(var b=c(a,n);b.findNext();)if("string"!=typeof n){var g=a.getRange(b.from(),b.to()).match(n);b.replace(d.replace(/\$(\d)/g,function(a,b){return g[b]}))}else b.replace(d)});else{k(a);var e=c(a,n,a.getCursor()),h=function(){var g,d=e.from();!(g=e.findNext())&&(e=c(a,n),!(g=e.findNext())||d&&e.from().line==d.line&&e.from().ch==
d.ch)||(a.setSelection(e.from(),e.to()),a.scrollIntoView({from:e.from(),to:e.to()}),b(a,x,"Replace?",[function(){q(g)},h]))},q=function(a){e.replace("string"==typeof n?d:d.replace(/\$(\d)/g,function(b,g){return a[g]}));h()};h()}}))})}var q='Search: <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">(Use /re/ syntax for regexp search)</span>',t='Replace: <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">(Use /re/ syntax for regexp search)</span>',
w='With: <input type="text" style="width: 10em" class="CodeMirror-search-field"/>',x="Replace? <button>Yes</button> <button>No</button> <button>Stop</button>";a.commands.find=function(a){k(a);e(a)};a.commands.findNext=e;a.commands.findPrev=function(a){e(a,!0)};a.commands.clearSearch=k;a.commands.replace=g;a.commands.replaceAll=function(a){g(a,!0)}});
(function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)})(function(a){function l(a,f){function m(a){clearTimeout(c.doRedraw);c.doRedraw=setTimeout(function(){c.redraw()},a)}this.cm=a;this.options=f;this.buttonHeight=f.scrollButtonHeight||a.getOption("scrollButtonHeight");this.annotations=[];this.doRedraw=this.doUpdate=null;this.div=a.getWrapperElement().appendChild(document.createElement("div"));
this.div.style.cssText="position: absolute; right: 0; top: 0; z-index: 7; pointer-events: none";this.computeScale();var c=this;a.on("refresh",this.resizeHandler=function(){clearTimeout(c.doUpdate);c.doUpdate=setTimeout(function(){c.computeScale()&&m(20)},100)});a.on("markerAdded",this.resizeHandler);a.on("markerCleared",this.resizeHandler);!1!==f.listenForChanges&&a.on("change",this.changeHandler=function(){m(250)})}a.defineExtension("annotateScrollbar",function(a){return"string"==typeof a&&(a={className:a}),
new l(this,a)});a.defineOption("scrollButtonHeight",0);l.prototype.computeScale=function(){var a=this.cm,a=(a.getWrapperElement().clientHeight-a.display.barHeight-2*this.buttonHeight)/a.heightAtLine(a.lastLine()+1,"local");return a!=this.hScale?(this.hScale=a,!0):void 0};l.prototype.update=function(a){this.annotations=a;this.redraw()};l.prototype.redraw=function(a){!1!==a&&this.computeScale();a=this.cm;var f=this.hScale,m=document.createDocumentFragment(),c=this.annotations;if(a.display.barWidth)for(var d,
b=0;b<c.length;b++){for(var h=c[b],e=d||a.charCoords(h.from,"local").top*f,h=a.charCoords(h.to,"local").bottom*f;b<c.length-1&&(d=a.charCoords(c[b+1].from,"local").top*f,!(d>h+.9));)h=c[++b],h=a.charCoords(h.to,"local").bottom*f;if(h!=e){var h=Math.max(h-e,3),n=m.appendChild(document.createElement("div"));n.style.cssText="position: absolute; right: 0px; width: "+Math.max(a.display.barWidth-1,2)+"px; top: "+(e+this.buttonHeight)+"px; height: "+h+"px";n.className=this.options.className}}this.div.textContent=
"";this.div.appendChild(m)};l.prototype.clear=function(){this.cm.off("refresh",this.resizeHandler);this.cm.off("markerAdded",this.resizeHandler);this.cm.off("markerCleared",this.resizeHandler);this.changeHandler&&this.cm.off("change",this.changeHandler);this.div.parentNode.removeChild(this.div)}});
(function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror"),require("./searchcursor"),require("../scroll/annotatescrollbar")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./searchcursor","../scroll/annotatescrollbar"],a):a(CodeMirror)})(function(a){function l(a,m,c,d){this.cm=a;var b={listenForChanges:!1},h;for(h in d)b[h]=d[h];b.className||(b.className="CodeMirror-search-match");this.annotation=a.annotateScrollbar(b);this.query=m;this.caseFold=
c;this.gap={from:a.firstLine(),to:a.lastLine()+1};this.matches=[];this.update=null;this.findMatches();this.annotation.update(this.matches);var e=this;a.on("change",this.changeHandler=function(a,b){e.onChange(b)})}function p(a,m,c){return m>=a?a:Math.max(m,a+c)}a.defineExtension("showMatchesOnScrollbar",function(a,m,c){return"string"==typeof c&&(c={className:c}),c||(c={}),new l(this,a,m,c)});l.prototype.findMatches=function(){if(this.gap){for(var f=0;f<this.matches.length;f++){var m=this.matches[f];
if(m.from.line>=this.gap.to)break;m.to.line>=this.gap.from&&this.matches.splice(f--,1)}for(var c=this.cm.getSearchCursor(this.query,a.Pos(this.gap.from,0),this.caseFold);c.findNext();){m={from:c.from(),to:c.to()};if(m.from.line>=this.gap.to)break;if(this.matches.splice(f++,0,m),1E3<this.matches.length)break}this.gap=null}};l.prototype.onChange=function(f){var m=f.from.line,c=a.changeEnd(f).line,d=c-f.to.line;if(this.gap?(this.gap.from=Math.min(p(this.gap.from,m,d),f.from.line),this.gap.to=Math.max(p(this.gap.to,
m,d),f.from.line)):this.gap={from:f.from.line,to:c+1},d)for(f=0;f<this.matches.length;f++){var c=this.matches[f],b=p(c.from.line,m,d);b!=c.from.line&&(c.from=a.Pos(b,c.from.ch));b=p(c.to.line,m,d);b!=c.to.line&&(c.to=a.Pos(b,c.to.ch))}clearTimeout(this.update);var h=this;this.update=setTimeout(function(){h.updateAfterChange()},250)};l.prototype.updateAfterChange=function(){this.findMatches();this.annotation.update(this.matches)};l.prototype.clear=function(){this.cm.off("change",this.changeHandler);
this.annotation.clear()}});
(function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)})(function(a){function l(a){a.state.placeholder&&(a.state.placeholder.parentNode.removeChild(a.state.placeholder),a.state.placeholder=null)}function p(a){l(a);var b=a.state.placeholder=document.createElement("pre");b.style.cssText="height: 0; overflow: visible";b.className="CodeMirror-placeholder";b.appendChild(document.createTextNode(a.getOption("placeholder")));
a.display.lineSpace.insertBefore(b,a.display.lineSpace.firstChild)}function f(a){c(a)&&p(a)}function m(a){var b=a.getWrapperElement(),h=c(a);b.className=b.className.replace(" CodeMirror-empty","")+(h?" CodeMirror-empty":"");h?p(a):l(a)}function c(a){return 1===a.lineCount()&&""===a.getLine(0)}a.defineOption("placeholder","",function(c,b,h){h=h&&h!=a.Init;b&&!h?(c.on("blur",f),c.on("change",m),m(c)):!b&&h&&(c.off("blur",f),c.off("change",m),l(c),h=c.getWrapperElement(),h.className=h.className.replace(" CodeMirror-empty",
""));b&&!c.hasFocus()&&f(c)})});
(function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror"),require("../fold/xml-fold")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../fold/xml-fold"],a):a(CodeMirror)})(function(a){function l(b){if(b.getOption("disableInput"))return a.Pass;for(var h=b.listSelections(),e=[],n=0;n<h.length;n++){if(!h[n].empty())return a.Pass;var k=h[n].head,g=b.getTokenAt(k),q=a.innerMode(b.getMode(),g.state),t=q.state;if("xml"!=q.mode.name||!t.tagName)return a.Pass;
var l=b.getOption("autoCloseTags"),p="html"==q.mode.configuration,q="object"==typeof l&&l.dontCloseTags||p&&c,p="object"==typeof l&&l.indentTags||p&&d,l=t.tagName;g.end>k.ch&&(l=l.slice(0,l.length-g.end+k.ch));var r=l.toLowerCase();if(!l||"string"==g.type&&(g.end!=k.ch||!/[\"\']/.test(g.string.charAt(g.string.length-1))||1==g.string.length)||"tag"==g.type&&"closeTag"==t.type||g.string.indexOf("/")==g.string.length-1||q&&-1<f(q,r)||m(b,l,k,t,!0))return a.Pass;g=p&&-1<f(p,r);e[n]={indent:g,text:">"+
(g?"\n\n":"")+"</"+l+">",newPos:g?a.Pos(k.line+1,0):a.Pos(k.line,k.ch+1)}}for(n=h.length-1;0<=n;n--)k=e[n],b.replaceRange(k.text,h[n].head,h[n].anchor,"+insert"),g=b.listSelections().slice(0),g[n]={head:k.newPos,anchor:k.newPos},b.setSelections(g),k.indent&&(b.indentLine(k.newPos.line,null,!0),b.indentLine(k.newPos.line+1,null,!0))}function p(b,c){for(var e=b.listSelections(),n=[],d=c?"/":"</",g=0;g<e.length;g++){if(!e[g].empty())return a.Pass;var q=e[g].head,f=b.getTokenAt(q),l=a.innerMode(b.getMode(),
f.state),p=l.state;if(c&&("string"==f.type||"<"!=f.string.charAt(0)||f.start!=q.ch-1))return a.Pass;if("xml"!=l.mode.name)if("htmlmixed"==b.getMode().name&&"javascript"==l.mode.name)n[g]=d+"script>";else{if("htmlmixed"!=b.getMode().name||"css"!=l.mode.name)return a.Pass;n[g]=d+"style>"}else{if(!p.context||!p.context.tagName||m(b,p.context.tagName,q,p))return a.Pass;n[g]=d+p.context.tagName+">"}}b.replaceSelections(n);e=b.listSelections();for(g=0;g<e.length;g++)(g==e.length-1||e[g].head.line<e[g+1].head.line)&&
b.indentLine(e[g].head.line)}function f(a,c){if(a.indexOf)return a.indexOf(c);for(var e=0,n=a.length;n>e;++e)if(a[e]==c)return e;return-1}function m(b,c,e,n,d){if(!a.scanForClosingTag)return!1;var g=Math.min(b.lastLine()+1,e.line+500);e=a.scanForClosingTag(b,e,null,g);if(!e||e.tag!=c)return!1;n=n.context;for(d=d?1:0;n&&n.tagName==c;n=n.prev)++d;e=e.to;for(n=1;d>n;n++){e=a.scanForClosingTag(b,e,null,g);if(!e||e.tag!=c)return!1;e=e.to}return!0}a.defineOption("autoCloseTags",!1,function(b,c,e){if(e!=
a.Init&&e&&b.removeKeyMap("autoCloseTags"),c)e={name:"autoCloseTags"},("object"!=typeof c||c.whenClosing)&&(e["'/'"]=function(b){return b.getOption("disableInput")?a.Pass:p(b,!0)}),("object"!=typeof c||c.whenOpening)&&(e["'>'"]=function(a){return l(a)}),b.addKeyMap(e)});var c="area base br col command embed hr img input keygen link meta param source track wbr".split(" "),d="applet blockquote body button div dl fieldset form frameset h1 h2 h3 h4 h5 h6 head html iframe layer legend object ol p select table ul".split(" ");
a.commands.closeTag=function(a){return p(a)}});
(function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)})(function(a){function l(c,d,b,h){function e(a){var b=n(c,d);if(!b||b.to.line-b.from.line<k)return null;for(var g=c.findMarksAt(b.from),e=0;e<g.length;++e)if(g[e].__isFold&&"fold"!==h){if(!a)return null;b.cleared=!0;g[e].clear()}return b}if(b&&b.call){var n=b;b=null}else n=f(c,b,"rangeFinder");"number"==typeof d&&(d=
a.Pos(d,0));var k=f(c,b,"minFoldSize"),g=e(!0);if(f(c,b,"scanUp"))for(;!g&&d.line>c.firstLine();)d=a.Pos(d.line-1,0),g=e(!1);if(g&&!g.cleared&&"unfold"!==h){b=p(c,b);a.on(b,"mousedown",function(b){q.clear();a.e_preventDefault(b)});var q=c.markText(g.from,g.to,{replacedWith:b,clearOnEnter:!0,__isFold:!0});q.on("clear",function(b,g){a.signal(c,"unfold",c,b,g)});a.signal(c,"fold",c,g.from,g.to)}}function p(a,d){var b=f(a,d,"widget");if("string"==typeof b){var h=document.createTextNode(b),b=document.createElement("span");
b.appendChild(h);b.className="CodeMirror-foldmarker"}return b}function f(a,d,b){return d&&void 0!==d[b]?d[b]:(a=a.options.foldOptions)&&void 0!==a[b]?a[b]:m[b]}a.newFoldFunction=function(a,d){return function(b,h){l(b,h,{rangeFinder:a,widget:d})}};a.defineExtension("foldCode",function(a,d,b){l(this,a,d,b)});a.defineExtension("isFolded",function(a){a=this.findMarksAt(a);for(var d=0;d<a.length;++d)if(a[d].__isFold)return!0});a.commands.toggleFold=function(a){a.foldCode(a.getCursor())};a.commands.fold=
function(a){a.foldCode(a.getCursor(),null,"fold")};a.commands.unfold=function(a){a.foldCode(a.getCursor(),null,"unfold")};a.commands.foldAll=function(c){c.operation(function(){for(var d=c.firstLine(),b=c.lastLine();b>=d;d++)c.foldCode(a.Pos(d,0),null,"fold")})};a.commands.unfoldAll=function(c){c.operation(function(){for(var d=c.firstLine(),b=c.lastLine();b>=d;d++)c.foldCode(a.Pos(d,0),null,"unfold")})};a.registerHelper("fold","combine",function(){var a=Array.prototype.slice.call(arguments,0);return function(d,
b){for(var h=0;h<a.length;++h){var e=a[h](d,b);if(e)return e}}});a.registerHelper("fold","auto",function(a,d){for(var b=a.getHelpers(d,"fold"),h=0;h<b.length;h++){var e=b[h](a,d);if(e)return e}});var m={rangeFinder:a.fold.auto,widget:"\u2194",minFoldSize:0,scanUp:!1};a.defineOption("foldOptions",null);a.defineExtension("foldOption",function(a,d){return f(this,a,d)})});
(function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror"),require("./foldcode")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./foldcode"],a):a(CodeMirror)})(function(a){function l(a){this.options=a;this.from=this.to=0}function p(a){if("string"==typeof a){var b=document.createElement("div");return b.className=a+" CodeMirror-guttermarker-subtle",b}return a.cloneNode(!0)}function f(a,b,g){var c=a.state.foldGutter.options,d=b,h=a.foldOption(c,
"minFoldSize"),m=a.foldOption(c,"rangeFinder");a.eachLine(b,g,function(b){var g=null,k;a:{k=d;for(var f=a.findMarksAt(e(k)),l=0;l<f.length;++l)if(f[l].__isFold&&f[l].find().from.line==k){k=!0;break a}k=void 0}k?g=p(c.indicatorFolded):(k=e(d,0),(k=m&&m(a,k))&&k.to.line-k.from.line>=h&&(g=p(c.indicatorOpen)));a.setGutterMarker(b,c.gutter,g);++d})}function m(a){var b=a.getViewport(),g=a.state.foldGutter;g&&(a.operation(function(){f(a,b.from,b.to)}),g.from=b.from,g.to=b.to)}function c(a,b,g){var c=a.state.foldGutter;
c&&(c=c.options,g==c.gutter&&a.foldCode(e(b,0),c.rangeFinder))}function d(a){var b=a.state.foldGutter;if(b){var g=b.options;b.from=b.to=0;clearTimeout(b.changeUpdate);b.changeUpdate=setTimeout(function(){m(a)},g.foldOnChangeTimeSpan||600)}}function b(a){var b=a.state.foldGutter;if(b){var g=b.options;clearTimeout(b.changeUpdate);b.changeUpdate=setTimeout(function(){var g=a.getViewport();b.from==b.to||20<g.from-b.to||20<b.from-g.to?m(a):a.operation(function(){g.from<b.from&&(f(a,g.from,b.from),b.from=
g.from);g.to>b.to&&(f(a,b.to,g.to),b.to=g.to)})},g.updateViewportTimeSpan||400)}}function h(a,b){var g=a.state.foldGutter;if(g){var c=b.line;c>=g.from&&c<g.to&&f(a,c,c+1)}}a.defineOption("foldGutter",!1,function(e,k,g){g&&g!=a.Init&&(e.clearGutter(e.state.foldGutter.options.gutter),e.state.foldGutter=null,e.off("gutterClick",c),e.off("change",d),e.off("viewportChange",b),e.off("fold",h),e.off("unfold",h),e.off("swapDoc",m));if(k){g=e.state;var f=k;k=(!0===f&&(f={}),null==f.gutter&&(f.gutter="CodeMirror-foldgutter"),
null==f.indicatorOpen&&(f.indicatorOpen="CodeMirror-foldgutter-open"),null==f.indicatorFolded&&(f.indicatorFolded="CodeMirror-foldgutter-folded"),f);g.foldGutter=new l(k);m(e);e.on("gutterClick",c);e.on("change",d);e.on("viewportChange",b);e.on("fold",h);e.on("unfold",h);e.on("swapDoc",m)}});var e=a.Pos});
(function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)})(function(a){a.registerHelper("fold","indent",function(l,p){var f=l.getOption("tabSize"),m=l.getLine(p.line);if(/\S/.test(m)){for(var c=a.countColumn(m,null,f),d=null,b=p.line+1,h=l.lastLine();h>=b;++b){var e=l.getLine(b);if(a.countColumn(e,null,f)>c)d=b;else if(/\S/.test(e))break}return d?{from:a.Pos(p.line,m.length),
to:a.Pos(d,l.getLine(d).length)}:void 0}})});
(function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)})(function(a){a.registerHelper("fold","brace",function(l,p){function f(g){for(var e=p.ch,h=0;;)if(e=0>=e?-1:b.lastIndexOf(g,e-1),-1!=e){if(1==h&&e<p.ch)break;if(c=l.getTokenTypeAt(a.Pos(d,e+1)),!/^(comment|string)/.test(c))return e+1;--e}else{if(1==h)break;h=1;e=b.length}}var m,c,d=p.line,b=l.getLine(d),h="{",e="}";
m=f("{");if(null==m&&(h="[",e="]",m=f("[")),null!=m){var n,k,g=1,q=l.lastLine(),t=d;a:for(;q>=t;++t)for(var w=l.getLine(t),x=t==d?m:0;;){var r=w.indexOf(h,x),v=w.indexOf(e,x);if(0>r&&(r=w.length),0>v&&(v=w.length),x=Math.min(r,v),x==w.length)break;if(l.getTokenTypeAt(a.Pos(t,x+1))==c)if(x==r)++g;else if(!--g){n=t;k=x;break a}++x}if(null!=n&&(d!=n||k!=m))return{from:a.Pos(d,m),to:a.Pos(n,k)}}});a.registerHelper("fold","import",function(l,p){function f(b){if(b<l.firstLine()||b>l.lastLine())return null;
var c=l.getTokenAt(a.Pos(b,1));if(/\S/.test(c.string)||(c=l.getTokenAt(a.Pos(b,c.end+1))),"keyword"!=c.type||"import"!=c.string)return null;var e=b;for(b=Math.min(l.lastLine(),b+10);b>=e;++e){var d=l.getLine(e).indexOf(";");if(-1!=d)return{startCh:c.end,end:a.Pos(e,d)}}}var m;p=p.line;var c=f(p);if(!c||f(p-1)||(m=f(p-2))&&m.end.line==p-1)return null;for(m=c.end;;){var d=f(m.line+1);if(null==d)break;m=d.end}return{from:l.clipPos(a.Pos(p,c.startCh+1)),to:m}});a.registerHelper("fold","include",function(l,
p){function f(c){if(c<l.firstLine()||c>l.lastLine())return null;var b=l.getTokenAt(a.Pos(c,1));return/\S/.test(b.string)||(b=l.getTokenAt(a.Pos(c,b.end+1))),"meta"==b.type&&"#include"==b.string.slice(0,8)?b.start+8:void 0}p=p.line;var m=f(p);if(null==m||null!=f(p-1))return null;for(var c=p;null!=f(c+1);)++c;return{from:a.Pos(p,m+1),to:l.clipPos(a.Pos(c))}})});
(function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)})(function(a){function l(a,b,c,e){this.line=b;this.ch=c;this.cm=a;this.text=a.getLine(b);this.min=e?e.from:a.firstLine();this.max=e?e.to-1:a.lastLine()}function p(a,b){var c=a.cm.getTokenTypeAt(n(a.line,b));return c&&/\btag\b/.test(c)}function f(a){return a.line>=a.max?void 0:(a.ch=0,a.text=a.cm.getLine(++a.line),!0)}
function m(a){return a.line<=a.min?void 0:(a.text=a.cm.getLine(--a.line),a.ch=a.text.length,!0)}function c(a){for(;;){var b=a.text.indexOf(">",a.ch);if(-1==b){if(f(a))continue;break}if(p(a,b+1)){var c=a.text.lastIndexOf("/",b),c=-1<c&&!/\S/.test(a.text.slice(c+1,b));return a.ch=b+1,c?"selfClose":"regular"}a.ch=b+1}}function d(a){for(;;){var b=a.ch?a.text.lastIndexOf("<",a.ch-1):-1;if(-1==b){if(m(a))continue;break}if(p(a,b+1)){k.lastIndex=b;a.ch=b;var c=k.exec(a.text);if(c&&c.index==b)return c}else a.ch=
b}}function b(a){for(;;){k.lastIndex=a.ch;var b=k.exec(a.text);if(!b){if(f(a))continue;break}if(p(a,b.index+1))return a.ch=b.index+b[0].length,b;a.ch=b.index+1}}function h(a,e){for(var d=[];;){var h,f=b(a),k=a.line,m=a.ch-(f?f[0].length:0);if(!f||!(h=c(a)))break;if("selfClose"!=h)if(f[1]){for(var l=d.length-1;0<=l;--l)if(d[l]==f[2]){d.length=l;break}if(0>l&&(!e||e==f[2]))return{tag:f[2],from:n(k,m),to:n(a.line,a.ch)}}else d.push(f[2])}}function e(a,b){for(var c=[];;){var e;a:for(e=a;;){var h=e.ch?
e.text.lastIndexOf(">",e.ch-1):-1;if(-1==h){if(m(e))continue;e=void 0;break a}if(p(e,h+1)){var f=e.text.lastIndexOf("/",h),f=-1<f&&!/\S/.test(e.text.slice(f+1,h));e=(e.ch=h+1,f?"selfClose":"regular");break a}e.ch=h}if(!e)break;if("selfClose"!=e){e=a.line;h=a.ch;f=d(a);if(!f)break;if(f[1])c.push(f[2]);else{for(var k=c.length-1;0<=k;--k)if(c[k]==f[2]){c.length=k;break}if(0>k&&(!b||b==f[2]))return{tag:f[2],from:n(a.line,a.ch),to:n(e,h)}}}else d(a)}}var n=a.Pos,k=/<(\/?)([A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD-:.0-9\u00B7\u0300-\u036F\u203F-\u2040]*)/g;
a.registerHelper("fold","xml",function(a,e){for(var d=new l(a,e.line,0);;){var f,k=b(d);if(!k||d.line!=e.line||!(f=c(d)))break;if(!k[1]&&"selfClose"!=f)return e=n(d.line,d.ch),(d=h(d,k[2]))&&{from:e,to:d.from}}});a.findMatchingTag=function(a,b,f){var k=new l(a,b.line,b.ch,f);if(-1!=k.text.indexOf(">")||-1!=k.text.indexOf("<")){var m=c(k),p=m&&n(k.line,k.ch),v=m&&d(k);if(m&&v&&!(0<(k.line-b.line||k.ch-b.ch)))return b={from:n(k.line,k.ch),to:p,tag:v[2]},"selfClose"==m?{open:b,close:null,at:"open"}:
v[1]?{open:e(k,v[2]),close:b,at:"close"}:(k=new l(a,p.line,p.ch,f),{open:b,close:h(k,v[2]),at:"open"})}};a.findEnclosingTag=function(a,b,c){for(var d=new l(a,b.line,b.ch,c);;){var f=e(d);if(!f)break;var k=new l(a,b.line,b.ch,c);if(k=h(k,f.tag))return{open:f,close:k}}};a.scanForClosingTag=function(a,b,c,e){a=new l(a,b.line,b.ch,e?{from:0,to:e}:null);return h(a,c)}});
(function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)})(function(a){a.registerHelper("fold","markdown",function(l,p){function f(b){return(b=l.getTokenTypeAt(a.Pos(b,0)))&&/\bheader\b/.test(b)}function m(a,b,e){return(b=b&&b.match(/^#+/))&&f(a)?b[0].length:(b=e&&e.match(/^[=\-]+\s*$/),b&&f(a+1)?"="==e[0]?1:2:c)}var c=100,d=l.getLine(p.line),b=l.getLine(p.line+1),h=m(p.line,
d,b);if(h!==c){for(var e=l.lastLine(),n=p.line,k=l.getLine(n+2);e>n&&!(m(n+1,b,k)<=h);)++n,b=k,k=l.getLine(n+2);return{from:a.Pos(p.line,d.length),to:a.Pos(n,l.getLine(n).length)}}})});
(function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)})(function(a){a.registerGlobalHelper("fold","comment",function(a){return a.blockCommentStart&&a.blockCommentEnd},function(l,p){var f=l.getModeAt(p),m=f.blockCommentStart,f=f.blockCommentEnd;if(m&&f){var c,d=p.line;c=l.getLine(d);for(var b=p.ch,h=0;;)if(b=0>=b?-1:c.lastIndexOf(m,b-1),-1!=b){if(1==h&&b<p.ch)return;if(/comment/.test(l.getTokenTypeAt(a.Pos(d,
b+1)))){c=b+m.length;break}--b}else{if(1==h)return;h=1;b=c.length}var e,n,h=1,b=l.lastLine(),k=d;a:for(;b>=k;++k)for(var g=l.getLine(k),q=k==d?c:0;;){var t=g.indexOf(m,q),w=g.indexOf(f,q);if(0>t&&(t=g.length),0>w&&(w=g.length),q=Math.min(t,w),q==g.length)break;if(q==t)++h;else if(!--h){e=k;n=q;break a}++q}if(null!=e&&(d!=e||n!=c))return{from:a.Pos(d,c),to:a.Pos(e,n)}}})});
(function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)})(function(a){a.overlayMode=function(l,p,f){return{startState:function(){return{base:a.startState(l),overlay:a.startState(p),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(f){return{base:a.copyState(l,f.base),overlay:a.copyState(p,f.overlay),basePos:f.basePos,baseCur:null,overlayPos:f.overlayPos,
overlayCur:null}},token:function(a,c){return(a!=c.streamSeen||Math.min(c.basePos,c.overlayPos)<a.start)&&(c.streamSeen=a,c.basePos=c.overlayPos=a.start),a.start==c.basePos&&(c.baseCur=l.token(a,c.base),c.basePos=a.pos),a.start==c.overlayPos&&(a.pos=a.start,c.overlayCur=p.token(a,c.overlay),c.overlayPos=a.pos),a.pos=Math.min(c.basePos,c.overlayPos),null==c.overlayCur?c.baseCur:null!=c.baseCur&&c.overlay.combineTokens||f&&null==c.overlay.combineTokens?c.baseCur+" "+c.overlayCur:c.overlayCur},indent:l.indent&&
function(a,c){return l.indent(a.base,c)},electricChars:l.electricChars,innerMode:function(a){return{state:a.base,mode:l}},blankLine:function(a){l.blankLine&&l.blankLine(a.base);p.blankLine&&p.blankLine(a.overlay)}}}});
(function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)})(function(a){function l(a){for(var h=0;h<a.state.activeLines.length;h++)a.removeLineClass(a.state.activeLines[h],"wrap",c),a.removeLineClass(a.state.activeLines[h],"background",d)}function p(a,c){if(a.length!=c.length)return!1;for(var e=0;e<a.length;e++)if(a[e]!=c[e])return!1;return!0}function f(a,h){for(var e=[],
f=0;f<h.length;f++){var k=h[f];k.empty()&&(k=a.getLineHandleVisualStart(k.head.line),e[e.length-1]!=k&&e.push(k))}p(a.state.activeLines,e)||a.operation(function(){l(a);for(var g=0;g<e.length;g++)a.addLineClass(e[g],"wrap",c),a.addLineClass(e[g],"background",d);a.state.activeLines=e})}function m(a,c){f(a,c.ranges)}var c="CodeMirror-activeline",d="CodeMirror-activeline-background";a.defineOption("styleActiveLine",!1,function(b,c,e){e=e&&e!=a.Init;c&&!e?(b.state.activeLines=[],f(b,b.listSelections()),
b.on("beforeSelectionChange",m)):!c&&e&&(b.off("beforeSelectionChange",m),l(b),delete b.state.activeLines)})});
(function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)})(function(a){function l(a,c){var e=a.getRange(d(c.line,c.ch-1),d(c.line,c.ch+1));return 2==e.length?e:null}function p(b,c,e){var d=b.getLine(c.line),f=b.getTokenAt(c);if(/\bstring2?\b/.test(f.type))return!1;e=new a.StringStream(d.slice(0,c.ch)+e+d.slice(c.ch),4);for(e.pos=e.start=f.start;;){d=b.getMode().token(e,f.state);
if(e.pos>=c.ch+1)return/\bstring2?\b/.test(d);e.start=e.pos}}function f(b,f){for(var e={name:"autoCloseBrackets",Backspace:function(c){if(c.getOption("disableInput"))return a.Pass;for(var e=c.listSelections(),f=0;f<e.length;f++){if(!e[f].empty())return a.Pass;var h=l(c,e[f].head);if(!h||0!=b.indexOf(h)%2)return a.Pass}for(f=e.length-1;0<=f;f--)h=e[f].head,c.replaceRange("",d(h.line,h.ch-1),d(h.line,h.ch+1))}},n="",k=0;k<b.length;k+=2)(function(b,k){n+=k;e["'"+b+"'"]=function(e){if(e.getOption("disableInput"))return a.Pass;
for(var l,m,r=e.listSelections(),v=0;v<r.length;v++){var y=r[v],u=y.head;m=e.getRange(u,d(u.line,u.ch+1));if(y.empty())if(b==k&&m==k)m=e.getRange(u,d(u.line,u.ch+3))==b+b+b?"skipThree":"skip";else if(b==k&&1<u.ch&&0<=f.indexOf(b)&&e.getRange(d(u.line,u.ch-2),u)==b+b&&(2>=u.ch||e.getRange(d(u.line,u.ch-3),d(u.line,u.ch-2))!=b))m="addFour";else{if('"'==b||"'"==b){if(a.isWordChar(m)||!p(e,u,b))return a.Pass}else if(!(e.getLine(u.line).length==u.ch||0<=n.indexOf(m)||c.test(m)))return a.Pass;m="both"}else m=
"surround";if(l){if(l!=m)return a.Pass}else l=m}e.operation(function(){if("skip"==l)e.execCommand("goCharRight");else if("skipThree"==l)for(var a=0;3>a;a++)e.execCommand("goCharRight");else if("surround"==l){for(var c=e.getSelections(),a=0;a<c.length;a++)c[a]=b+c[a]+k;e.replaceSelections(c,"around")}else"both"==l?(e.replaceSelection(b+k,null),e.execCommand("goCharLeft")):"addFour"==l&&(e.replaceSelection(b+b+b+b,"before"),e.execCommand("goCharRight"))})};b!=k&&(e["'"+k+"'"]=function(b){for(var c=
b.listSelections(),e=0;e<c.length;e++){var g=c[e];if(!g.empty()||b.getRange(g.head,d(g.head.line,g.head.ch+1))!=k)return a.Pass}b.execCommand("goCharRight")})})(b.charAt(k),b.charAt(k+1));return e}function m(b){return function(c){if(c.getOption("disableInput"))return a.Pass;for(var e=c.listSelections(),d=0;d<e.length;d++){if(!e[d].empty())return a.Pass;var f=l(c,e[d].head);if(!f||0!=b.indexOf(f)%2)return a.Pass}c.operation(function(){c.replaceSelection("\n\n",null);c.execCommand("goCharLeft");e=c.listSelections();
for(var a=0;a<e.length;a++){var b=e[a].head.line;c.indentLine(b,null,!0);c.indentLine(b+1,null,!0)}})}}var c=/\s/,d=a.Pos;a.defineOption("autoCloseBrackets",!1,function(b,c,e){if(e!=a.Init&&e&&b.removeKeyMap("autoCloseBrackets"),c){var d="()[]{}''\"\"",k="'\"";e="[]{}";"string"==typeof c?d=c:"object"==typeof c&&(null!=c.pairs&&(d=c.pairs),null!=c.triples&&(k=c.triples),null!=c.explode&&(e=c.explode));c=f(d,k);e&&(c.Enter=m(e));b.addKeyMap(c)}})});
(function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)})(function(a){a.defineOption("fullScreen",!1,function(l,p,f){f==a.Init&&(f=!1);!f!=!p&&(p?(p=l.getWrapperElement(),l.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:p.style.width,height:p.style.height},p.style.width="",p.style.height="auto",p.className+=" CodeMirror-fullscreen",
document.documentElement.style.overflow="hidden"):(p=l.getWrapperElement(),p.className=p.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="",f=l.state.fullScreenRestore,p.style.width=f.width,p.style.height=f.height,window.scrollTo(f.scrollLeft,f.scrollTop)),l.refresh())})});
(function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)})(function(a){function l(a){"object"==typeof a&&(this.minChars=a.minChars,this.style=a.style,this.showToken=a.showToken,this.delay=a.delay,this.wordsOnly=a.wordsOnly);null==this.style&&(this.style=d);null==this.minChars&&(this.minChars=c);null==this.delay&&(this.delay=b);null==this.wordsOnly&&(this.wordsOnly=h);this.overlay=
this.timeout=null}function p(a){var b=a.state.matchHighlighter;clearTimeout(b.timeout);b.timeout=setTimeout(function(){f(a)},b.delay)}function f(a){a.operation(function(){var b=a.state.matchHighlighter;if(b.overlay&&(a.removeOverlay(b.overlay),b.overlay=null),!a.somethingSelected()&&b.showToken){for(var c=!0===b.showToken?/[\w$]/:b.showToken,d=a.getCursor(),f=a.getLine(d.line),h=d=d.ch;d&&c.test(f.charAt(d-1));)--d;for(;h<f.length&&c.test(f.charAt(h));)++h;return void(h>d&&a.addOverlay(b.overlay=
m(f.slice(d,h),c,b.style)))}c=a.getCursor("from");f=a.getCursor("to");if((d=c.line==f.line)&&!(d=!b.wordsOnly))a:if(null!==a.getRange(c,f).match(/^\w+$/)){if(0<c.ch&&(d={line:c.line,ch:c.ch-1},d=a.getRange(d,c),null===d.match(/\W/))){d=!1;break a}if(f.ch<a.getLine(c.line).length&&(d={line:f.line,ch:f.ch+1},d=a.getRange(f,d),null===d.match(/\W/))){d=!1;break a}d=!0}else d=!1;d&&(c=a.getRange(c,f).replace(/^\s+|\s+$/g,""),c.length>=b.minChars&&a.addOverlay(b.overlay=m(c,!1,b.style)))})}function m(a,
b,c){return{token:function(d){var f;!(f=!d.match(a))&&(f=b)&&(f=!!(d.start&&b.test(d.string.charAt(d.start-1))||d.pos!=d.string.length&&b.test(d.string.charAt(d.pos))));return f?(d.next(),void(d.skipTo(a.charAt(0))||d.skipToEnd())):c}}}var c=2,d="matchhighlight",b=100,h=!1;a.defineOption("highlightSelectionMatches",!1,function(b,c,d){d&&d!=a.Init&&((d=b.state.matchHighlighter.overlay)&&b.removeOverlay(d),clearTimeout(b.state.matchHighlighter.timeout),b.state.matchHighlighter=null,b.off("cursorActivity",
p));c&&(b.state.matchHighlighter=new l(c),f(b),b.on("cursorActivity",p))})});