(function(){var m=function(k){var p=jQuery,q=0,m=[],r=[],v="editormd-logo editormd-logo-1x editormd-logo-2x editormd-logo-3x editormd-logo-4x editormd-logo-5x editormd-logo-6x editormd-logo-7x editormd-logo-8x".split(" "),w={"zh-cn":{toolbar:{emoji:"Emoji \u8868\u60c5"},dialog:{emoji:{title:"Emoji \u8868\u60c5"}}},"zh-tw":{toolbar:{emoji:"Emoji \u8868\u60c5"},dialog:{emoji:{title:"Emoji \u8868\u60c5"}}},en:{toolbar:{emoji:"Emoji"},dialog:{emoji:{title:"Emoji"}}}};k.fn.emojiDialog=function(){var n=
this.cm,c=this.settings;if(c.emoji){var x=c.pluginPath+"emoji-dialog/",g=this.editor;n.getCursor();n.getSelection();var h=this.classPrefix;p.extend(!0,this.lang,w[this.lang.name]);this.setToolbar();var a=this.lang,f=h+"emoji-dialog",d,y=a.dialog.emoji,z=['<div class="'+h+'emoji-dialog-box" style="width: 760px;height: 334px;margin-bottom: 8px;overflow: hidden;">','<div class="'+h+'tab"></div>',"</div>"].join("\n");n.focus();0<g.find("."+f).length?(d=g.find("."+f),r=[],d.find("a").removeClass("selected"),
this.dialogShowMask(d),this.dialogLockScreen(),d.show()):d=this.createDialog({name:f,title:y.title,width:800,height:475,mask:c.dialogShowMask,drag:c.dialogDraggable,content:z,lockScreen:c.dialogLockScreen,maskStyle:{opacity:c.dialogMaskOpacity,backgroundColor:c.dialogMaskBgColor},buttons:{enter:[a.buttons.enter,function(){n.replaceSelection(r.join(" "));this.hide().lockScreen(!1).hideMask();return!1}],cancel:[a.buttons.cancel,function(){this.hide().lockScreen(!1).hideMask();return!1}]}});g=["Github emoji",
"Twemoji","Font awesome","Editor.md logo"];c=d.find("."+h+"tab");if(""===c.html()){a='<ul class="'+h+'tab-head">';for(f=0;4>f;f++)a+="<li"+(0===f?' class="active"':"")+'><a href="javascript:;">'+g[f]+"</a></li>";c.append(a+"</ul>");g='<div class="'+h+'tab-container">';for(a=0;4>a;a++)g+='<div class="'+h+'tab-box" style="height: 260px;overflow: hidden;overflow-y: auto;'+(0===a?"":"display:none;")+'"></div>';c.append(g+"</div>")}var u=c.find("."+h+"tab-box"),A=["github-emoji","twemoji","font-awesome",
"editormd-logo"],t=function(){var c=A[q],a=m[c],d=u.eq(q);if(""===d.html()){var g=function(c,a){for(var d="editormd-logo"===a?"5":20,f=Math.ceil(c.length/d),g='<div class="'+h+'grid-table">',m=0;m<f;m++){for(var l='<div class="'+h+'grid-table-row">',n=0;n<d;n++){var b=p.trim(c[m*d+n]);if("undefined"!==typeof b&&""!==b){var e="",e="";"github-emoji"===a?(e="+1"===b?"plus1":b,e="black_large_square"===e?"black_square":e,e="moon"===e?"waxing_gibbous_moon":e,e=k.emoji.path+e+k.emoji.ext,e='<img src="'+
e+'" width="24" class="emoji" title="&#58;'+b+'&#58;" alt="&#58;'+b+'&#58;" />',l+='<a href="javascript:;" value=":'+b+':" title=":'+b+':" class="'+h+'emoji-btn">'+e+"</a>"):"twemoji"===a?(e='<img src="'+(k.twemoji.path+b+k.twemoji.ext)+'" width="24" title="twemoji-'+b+'" alt="twemoji-'+b+'" class="emoji twemoji" />',l+='<a href="javascript:;" value=":tw-'+b+':" title=":tw-'+b+':" class="'+h+'emoji-btn">'+e+"</a>"):"font-awesome"===a?(e='<i class="fa fa-'+b+' fa-emoji" title="'+b+'"></i>',l+='<a href="javascript:;" value=":fa-'+
b+':" title=":fa-'+b+':" class="'+h+'emoji-btn">'+e+"</a>"):"editormd-logo"===a&&(e='<i class="'+b+'" title="Editor.md logo ('+b+')"></i>',l+='<a href="javascript:;" value=":'+b+':" title=":'+b+':" style="width:20%;" class="'+h+'emoji-btn">'+e+"</a>")}else l+='<a href="javascript:;" value=""></a>'}l+="</div>";g+=l}return g+"</div>"};if(0===q)for(var f=0,n=a.length;f<n;f++)d.append("<h4"+(0===f?' style="margin: 0 0 10px;"':' style="margin: 10px 0;"')+">"+a[f].category+"</h4>"),d.append(g(a[f].list,
c));else d.append(g(a,c));d.find("."+h+"emoji-btn").bind(k.mouseOrTouch("click","touchend"),function(){p(this).toggleClass("selected");p(this).hasClass("selected")&&r.push(p(this).attr("value"))})}};1>m.length?("function"===typeof d.loading&&d.loading(!0),p.getJSON(x+"emoji.json?temp="+Math.random(),function(a){"function"===typeof d.loading&&d.loading(!1);m=a;m["editormd-logo"]=v;t()})):t();c.find("li").bind(k.mouseOrTouch("click","touchend"),function(){var a=p(this);q=a.index();a.addClass("active").siblings().removeClass("active");
u.eq(q).show().siblings().hide();t()})}else alert("settings.emoji == false")}};"function"===typeof require&&"object"===typeof exports&&"object"===typeof module?module.exports=m:"function"===typeof define?define.amd?define(["editormd"],function(k){m(k)}):define(function(k){k=k("./../../editormd");m(k)}):m(window.editormd)})();