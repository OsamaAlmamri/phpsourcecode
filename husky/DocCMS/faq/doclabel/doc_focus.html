<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>doc_focus--稻壳网CMS标签文档</title>
<meta name="keywords" content="稻壳CMS，稻壳CMS标签，稻壳CMS模版" />
<meta name="description" content="稻壳CMS官方标签文档。稻壳CMS官方网站www.doccms.com" />
<meta name="author" content="doccms：www.weibo.com/doccms">
<link rel="stylesheet" href="../img/help.css" type="text/css" />
<script src="../img/jquery-1.7.2.min.js"></script>
<script src="../img/jquery.easing.1.3.js"></script>
<script src="../img/common.js"></script>
</head>
<body>
<div class="top">
	<div class="header">
		<a href="http://www.doccms.com/faq/" target="_blank" title="稻壳网帮助中心"><img src="../img/doooc_logo.png" class="logo" /></a><span id="lab">标签文档 X1.0<sub>[本标签文档适用于稻壳平台多用户版和稻壳CMS X1.0]</sub></span>
	</div>
</div>
<div id="bd">
	<div class="left">
		<div class="sidenav">
			<h2>稻壳CMS标签文档</h2>
            <ul class="subnav"></ul>
			<h4></h4>
		</div>
	</div>
	<div class="right">
		<h2><a href="../default.html">标签首页</a>&gt;&gt;<a href="index.html">@模块应用、调用标签</a>&gt;&gt;<a href="#">doc_focus</a></h2>
		<h3 class="how">1、首页焦点图模块的栏目数据调用标签</h3>
<!--功能说明开始-->
<fieldset>
<legend>功能说明：</legend>
<p>此标签主要在模板index.php和common.php(包含自定义单独common页) 中html代码部分输出要调用的焦点图模块的数据.</p>
</fieldset>		
<!--功能说明结束-->
<label>代码示例</label>
<!--code代码的样式开始-->
<div class="blockcode">
<ol>
<li>&lt;?php doc_focus($group_id=0,$n=0,$style=0,$strcount=0,$strcount1=0,
$isellipsis=true,$ordering='id',$fromcount=0) ?&gt;</li>
<li></li>
<li>&lt;?php doc_focus( ) ?&gt;</li>
<li></li>
<li>&lt;?php doc_focus(1,1,0,0,0,true,'ordering',0) ?&gt;</li>
</ol>
</div>
<!--code代码的样式结束-->
<hr />
<label>参数说明</label>
<div class="param">
   <ul>
     <li><b>$channelId：</b>调用频道或栏目ID；</li>
     <li><b>$n：</b>调用下载显示条数；</li>
     <li><b>$style：</b>调用文件名为focus_0、focus_1、focus_2……的php样式文件，其保存于模板下的index/focus/文件夹下，表示焦点图数据的不同显示样式，$style为下载不同显示样式文件的数字后缀。</li>
     <li><b>$strcount：</b>指定焦点图标题的显示字符数量；</li>
     <li><b>$strcount1：</b>指定焦点图内容的显示字符数量；</li>
     <li></li>
     <li><b>$isEllipsis：</b>指定焦点图字符末尾是否显示省略号，当<span lang="EN-US" xml:lang="EN-US">$isEllipsis</span>为<span lang="EN-US" xml:lang="EN-US">false</span>或<span lang="EN-US" xml:lang="EN-US">$isEllipsis</span>为<span lang="EN-US" xml:lang="EN-US">true</span>且<span lang="EN-US" xml:lang="EN-US">$strcount</span>大于标题字数时不显示省略号，当<span lang="EN-US" xml:lang="EN-US">$isEllipsis</span>为<span lang="EN-US" xml:lang="EN-US">true</span>且<span lang="EN-US" xml:lang="EN-US">$strcount</span>小于标题字数时则显示省略号;</li>
     <li><b>$ordering：</b>调用记录排序,默认情况下是按数据库表里的ordering排序的，如果大家不需要ordering排序可以手动跟所自己的情况排序，比如按记录id排序写成'id';</li>
     <li><b>$fromcount：</b>调用的当前焦点图栏目排序后从第$fromcount条开始，默认为从第0条开始，假如此参数为2，表示从第2条开始，可以解决很多用户的新闻调用首条记录特殊样式问题; </li>
   </ul>
</div>
<label>标签样式文件代码示例一</label>
<!--code代码的样式开始-->
<div class="blockcode">
<ol>
  <li>&lt;script type=&quot;text/javascript&quot; src=&quot;&lt;?php echo $myfocus_js;?&gt;&quot;&gt;&lt;/script&gt;&lt;!--引入myFocus库--&gt;</li>
  <li>&lt;script type=&quot;text/javascript&quot;&gt;<br />
    myFocus.set({id:'&lt;?php echo $data['boxId'];?&gt;',pattern:'&lt;?php echo $data['pattern'];?&gt;', time:&lt;?php echo $data['times'];?&gt;,trigger:'&lt;?php echo $data['adTrigger'];?&gt;',width:&lt;?php echo $data['width'];?&gt;,height:&lt;?php echo $data['height'];?&gt;,txtHeight:'&lt;?php echo $data['txtHeight'];?&gt;'});<br />
    &lt;/script&gt;</li>
  <li>&lt;div id=&quot;&lt;?php echo $data['boxId'];?&gt;&quot; &gt;&lt;!--焦点图盒子--&gt;</li>
  <li>&lt;div class=&quot;__loading&quot;&gt;&lt;img src=&quot;&lt;?php echo $tag['path.skin']?&gt;res/plug-in/myfocus/pattern/img/loading.gif&quot; alt=&quot;请稍候...&quot; /&gt;&lt;/div&gt;</li>
  <li>&lt;!--载入画面--&gt;</li>
  <li>&lt;div  class=&quot;__pic&quot;&gt;</li>
  <li>&lt;ul&gt;</li>
  <li>&lt;!--内容列表--&gt;</li>
  <li>&lt;?php<br />
    foreach($flash['results'] as $data)<br />
    {<br />
    ?&gt;<br />
    &lt;li&gt;&lt;a href=&quot;&lt;?php echo $data['url'];?&gt;&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;&lt;?php echo $data['picpath'];?&gt;&quot; thumb=&quot;&quot; alt=&quot;&lt;?php echo $data['title'];?&gt;&quot; text=&quot;&lt;?php echo $data['summary'];?&gt;&quot; /&gt;&lt;/a&gt;&lt;/li&gt;<br />
    &lt;?php <br />
    }<br />
    ?&gt;</li>
  <li>&lt;/ul&gt;<br />
    &lt;/div&gt;<br />
    &lt;/div&gt;<br />
  </li>
</ol>
</div>
<!--code代码的样式结束-->
<label>标签样式文件代码示例二</label>
<!--code代码的样式开始-->
<div class="blockcode">
<ol>
  <li>//如果同一页面需要加载多个焦点图时，除第一个焦点图标签外，后面的所有焦点图标签请使用此样式的代码，以防止重复加载JS 库文件</li>
  <li>&lt;script type=&quot;text/javascript&quot;&gt;<br />
    myFocus.set({id:'&lt;?php echo $data['boxId'];?&gt;',pattern:'&lt;?php echo $data['pattern'];?&gt;', time:&lt;?php echo $data['times'];?&gt;,trigger:'&lt;?php echo $data['adTrigger'];?&gt;',width:&lt;?php echo $data['width'];?&gt;,height:&lt;?php echo $data['height'];?&gt;,txtHeight:'&lt;?php echo $data['txtHeight'];?&gt;'});<br />
    &lt;/script&gt;</li>
  <li>&lt;div id=&quot;&lt;?php echo $data['boxId'];?&gt;&quot; &gt;&lt;!--焦点图盒子--&gt;</li>
  <li>&lt;div class=&quot;__loading&quot;&gt;&lt;img src=&quot;&lt;?php echo $tag['path.skin']?&gt;res/plug-in/myfocus/pattern/img/loading.gif&quot; alt=&quot;请稍候...&quot; /&gt;&lt;/div&gt;</li>
  <li>&lt;!--载入画面--&gt;</li>
  <li>&lt;div  class=&quot;__pic&quot;&gt;</li>
  <li>&lt;ul&gt;</li>
  <li>&lt;!--内容列表--&gt;</li>
  <li>&lt;?php<br />
    foreach($flash['results'] as $data)<br />
    {<br />
    ?&gt;<br />
  &lt;li&gt;&lt;a href=&quot;&lt;?php echo $data['url'];?&gt;&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;&lt;?php echo $data['picpath'];?&gt;&quot; thumb=&quot;&quot; alt=&quot;&lt;?php echo $data['title'];?&gt;&quot; text=&quot;&lt;?php echo $data['summary'];?&gt;&quot; /&gt;&lt;/a&gt;&lt;/li&gt;<br />
  &lt;?php <br />
    }<br />
    ?&gt;</li>
  <li>&lt;/ul&gt;<br />
  &lt;/div&gt;<br />
  &lt;/div&gt;</li>
</ol>
</div>
<!--code代码的样式结束-->
<p>
  <label>样例展示</label>
</p>
<img src="../img/doclabel/focus.jpg" />
<div class="clr"></div>
<!--虚划线-->
<div class="clr"></div>
<label>备注说明</label>
<!--备注开始-->
<div class="strong">备注：此标签支持系统后台可视化标签管理，即可在制作模板时仅写标签名称，不写参数(例如:&lt;?php doc_focus( ) ?&gt;)，模板完成后进入后台 构建网站->模板管理->标签可视化管理 中设置标签的具体参数。【责任编辑：<a href="http://weibo.com/grysoft" target="_blank">grysoft</a>】</div>
<!--备注结束-->
  </div>
</div>
<div class="footer">&#169; 2012 <a href="http://www.doccms.com" target="_blank">稻壳网CMS</a></div>
</body>
</html>
