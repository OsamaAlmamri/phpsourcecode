<?php

class IndexAction extends Action{

	public $tpl;
	public $model;

	public function __construct(&$tpl){
        
        $this->tpl = $tpl;
        
        
		//导航栏
        $this->tpl->assign('nav',$this->getNav());
		
		//文字友情链接
        $this->tpl->assign('textflink',$this->getTextLink());

		//图片友情链接
        $this->tpl->assign('picflink',$this->getPicLink());

		//首页图书推荐
		$this->tpl->assign('recbook',$this->getRecBook());

		print_r($this->getRecBook());

	}
	
	//获取导航栏目
	public function getNav(){
		$this->nav = new ColumnModel();
        return $this->nav->showNav();
	}
	
	
	//获取文字友情链接
	public function getTextLink(){
		$this->flink = new FriendlinkModel();
		return $this->flink->textFriendlink();
	}

	//获取图片友情链接
	public function getPicLink(){
		$this->flink = new FriendlinkModel();
		return $this->flink->picFriendlink();
	}
	
	//首页图书推荐
	public function getRecBook(){
		$this->content = new ContentModel();
		return $this->content->RecBook();
	}
}
?>