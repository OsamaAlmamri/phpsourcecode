demo说明
-----------------------------------------------------------------------------------
支付api调用一般流程：
1、用户从财付通跳转，共享财付通登录用户信息，请参考examples/ShareLoginState.php
2、生成支付请求串，请参考examples/pay.php
3、支付成功，接收财付通回调处理，请参考examples/notify_url.php、examples/return_url.php
4、验证财付通通知消息真实性，请参考examples/notify_query.php
5、如需额外查询订单，请参考examples/order_query.php



api调用流程
-----------------------------------------------------------------------------------
             
1.支付流程：
最终用户               财付通app                                    财付通支付平台         qq小钱包
|          //登陆小钱包	 |                                                |                      |	
|------------------------|------------------------------------------------|--------------------->|
|                        |                //用户选择app从小钱包跳转至通知财付通app               |
|                        |                ShareLoginState->getUserId()    |                      |
|         //下订单       |<----------------------------------------------------------------------| 
|----------------------->|                                                |                      |
|                        |------|    //生成支付请求串                     |                      |
|                        |<-----|    PayRequest->getURL()                 |                      |
|                        |                                                |                      |
|                        |         //完成支付操作并跳转至财付通支付       |                      |
|------------------------|----------------------------------------------->|                      |
|                        |                                                |                      |
|                        |   //获取支付通知id(异步通知,接收财付通回调处理)|                      |
|                        |   Response->getNotifyId()                      |                      |
|                        |<-----------------------------------------------|                      |
|                        |     //通知财付通，收到支付通知id               |                      |
|                        |     Response->acknowledgeSuccess()             |                      |
|                        |----------------------------------------------->|                      |
|                        |                                                |                      |
|                        |     //验证支付通知id                           |                      |
|                        |     NotifyQueryRequest->send()                 |                      | 
|                        |----------------------------------------------->|                      | 
|                        |                                                |                      |
|                        |      //通过支付通知id，获取是否完成支付        |                      |
|                        |      NotifyQueryResponse->isPayed()            |                      |   
|                        |----------------------------------------------->|                      |
|                        |                                                |                      |
|                        |------| //财付通app应用逻辑处理                 |                      |
|                        |<-----|                                         |                      | 
|<-----------------------|                                                |                      |
|                        |                                                |                      |
                                                                                                 |

2.查询订单流程：                                                                 
最终用户                财付通app                                     财付通支付平台
|                        |                                                |
|                        |     //查询订单                                 |
|                        |     OrderQueryRequest->send()                  |
|                        |----------------------------------------------->|
|                        |                                                |
|                        |     //获取订单信息                             |
|                        |      OrderQueryResponse.getParameter()         |
|                        |----------------------------------------------->|
|                        |                                                |
