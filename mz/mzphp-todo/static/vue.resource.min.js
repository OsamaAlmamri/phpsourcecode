(function(t,e){typeof exports==="object"&&typeof module!=="undefined"?module.exports=e():typeof define==="function"&&define.amd?define(e):t.VueResource=e()})(this,function(){"use strict";var t=0;var e=1;var n=2;function r(t){this.state=n;this.value=undefined;this.deferred=[];var e=this;try{t(function(t){e.resolve(t)},function(t){e.reject(t)})}catch(t){e.reject(t)}}r.reject=function(t){return new r(function(e,n){n(t)})};r.resolve=function(t){return new r(function(e,n){e(t)})};r.all=function t(e){return new r(function(t,n){var o=0,i=[];if(e.length===0){t(i)}function u(n){return function(r){i[n]=r;o+=1;if(o===e.length){t(i)}}}for(var s=0;s<e.length;s+=1){r.resolve(e[s]).then(u(s),n)}})};r.race=function t(e){return new r(function(t,n){for(var o=0;o<e.length;o+=1){r.resolve(e[o]).then(t,n)}})};var o=r.prototype;o.resolve=function e(r){var o=this;if(o.state===n){if(r===o){throw new TypeError("Promise settled with itself.")}var i=false;try{var u=r&&r["then"];if(r!==null&&typeof r==="object"&&typeof u==="function"){u.call(r,function(t){if(!i){o.resolve(t)}i=true},function(t){if(!i){o.reject(t)}i=true});return}}catch(t){if(!i){o.reject(t)}return}o.state=t;o.value=r;o.notify()}};o.reject=function t(r){var o=this;if(o.state===n){if(r===o){throw new TypeError("Promise settled with itself.")}o.state=e;o.value=r;o.notify()}};o.notify=function r(){var o=this;p(function(){if(o.state!==n){while(o.deferred.length){var r=o.deferred.shift(),i=r[0],u=r[1],s=r[2],f=r[3];try{if(o.state===t){if(typeof i==="function"){s(i.call(undefined,o.value))}else{s(o.value)}}else if(o.state===e){if(typeof u==="function"){s(u.call(undefined,o.value))}else{f(o.value)}}}catch(t){f(t)}}}})};o.then=function t(e,n){var o=this;return new r(function(t,r){o.deferred.push([e,n,t,r]);o.notify()})};o.catch=function(t){return this.then(undefined,t)};if(typeof Promise==="undefined"){window.Promise=r}function i(t,e){if(t instanceof Promise){this.promise=t}else{this.promise=new Promise(t.bind(e))}this.context=e}i.all=function(t,e){return new i(Promise.all(t),e)};i.resolve=function(t,e){return new i(Promise.resolve(t),e)};i.reject=function(t,e){return new i(Promise.reject(t),e)};i.race=function(t,e){return new i(Promise.race(t),e)};var u=i.prototype;u.bind=function(t){this.context=t;return this};u.then=function(t,e){if(t&&t.bind&&this.context){t=t.bind(this.context)}if(e&&e.bind&&this.context){e=e.bind(this.context)}return new i(this.promise.then(t,e),this.context)};u.catch=function(t){if(t&&t.bind&&this.context){t=t.bind(this.context)}return new i(this.promise.catch(t),this.context)};u.finally=function(t){return this.then(function(e){t.call(this);return e},function(e){t.call(this);return Promise.reject(e)})};var s=false;var f={};var a=[].slice;function c(t){f=t.util;s=t.config.debug||!t.config.silent}function h(t){if(typeof console!=="undefined"&&s){console.warn("[VueResource warn]: "+t)}}function l(t){if(typeof console!=="undefined"){console.error(t)}}function p(t,e){return f.nextTick(t,e)}function d(t){return t.replace(/^\s*|\s*$/g,"")}function m(t){return t?t.toLowerCase():""}function y(t){return t?t.toUpperCase():""}var v=Array.isArray;function b(t){return typeof t==="string"}function g(t){return t===true||t===false}function w(t){return typeof t==="function"}function T(t){return t!==null&&typeof t==="object"}function x(t){return T(t)&&Object.getPrototypeOf(t)==Object.prototype}function j(t){return typeof Blob!=="undefined"&&t instanceof Blob}function E(t){return typeof FormData!=="undefined"&&t instanceof FormData}function O(t,e,n){var r=i.resolve(t);if(arguments.length<2){return r}return r.then(e,n)}function P(t,e,n){n=n||{};if(w(n)){n=n.call(e)}return A(t.bind({$vm:e,$options:n}),t,{$options:n})}function C(t,e){var n,r;if(t&&typeof t.length=="number"){for(n=0;n<t.length;n++){e.call(t[n],t[n],n)}}else if(T(t)){for(r in t){if(t.hasOwnProperty(r)){e.call(t[r],t[r],r)}}}return t}var $=Object.assign||U;function A(t){var e=a.call(arguments,1);e.forEach(function(e){S(t,e,true)});return t}function R(t){var e=a.call(arguments,1);e.forEach(function(e){for(var n in e){if(t[n]===undefined){t[n]=e[n]}}});return t}function U(t){var e=a.call(arguments,1);e.forEach(function(e){S(t,e)});return t}function S(t,e,n){for(var r in e){if(n&&(x(e[r])||v(e[r]))){if(x(e[r])&&!x(t[r])){t[r]={}}if(v(e[r])&&!v(t[r])){t[r]=[]}S(t[r],e[r],n)}else if(e[r]!==undefined){t[r]=e[r]}}}function k(t,e){var n=e(t);if(b(t.root)&&!n.match(/^(https?:)?\//)){n=t.root+"/"+n}return n}function I(t,e){var n=Object.keys(W.options.params),r={},o=e(t);C(t.params,function(t,e){if(n.indexOf(e)===-1){r[e]=t}});r=W.params(r);if(r){o+=(o.indexOf("?")==-1?"?":"&")+r}return o}function H(t,e,n){var r=L(t),o=r.expand(e);if(n){n.push.apply(n,r.vars)}return o}function L(t){var e=["+","#",".","/",";","?","&"],n=[];return{vars:n,expand:function(r){return t.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(t,o,i){if(o){var u=null,s=[];if(e.indexOf(o.charAt(0))!==-1){u=o.charAt(0);o=o.substr(1)}o.split(/,/g).forEach(function(t){var e=/([^:\*]*)(?::(\d+)|(\*))?/.exec(t);s.push.apply(s,N(r,u,e[1],e[2]||e[3]));n.push(e[1])});if(u&&u!=="+"){var f=",";if(u==="?"){f="&"}else if(u!=="#"){f=u}return(s.length!==0?u:"")+s.join(f)}else{return s.join(",")}}else{return D(i)}})}}}function N(t,e,n,r){var o=t[n],i=[];if(q(o)&&o!==""){if(typeof o==="string"||typeof o==="number"||typeof o==="boolean"){o=o.toString();if(r&&r!=="*"){o=o.substring(0,parseInt(r,10))}i.push(J(e,o,B(e)?n:null))}else{if(r==="*"){if(Array.isArray(o)){o.filter(q).forEach(function(t){i.push(J(e,t,B(e)?n:null))})}else{Object.keys(o).forEach(function(t){if(q(o[t])){i.push(J(e,o[t],t))}})}}else{var u=[];if(Array.isArray(o)){o.filter(q).forEach(function(t){u.push(J(e,t))})}else{Object.keys(o).forEach(function(t){if(q(o[t])){u.push(encodeURIComponent(t));u.push(J(e,o[t].toString()))}})}if(B(e)){i.push(encodeURIComponent(n)+"="+u.join(","))}else if(u.length!==0){i.push(u.join(","))}}}}else{if(e===";"){i.push(encodeURIComponent(n))}else if(o===""&&(e==="&"||e==="?")){i.push(encodeURIComponent(n)+"=")}else if(o===""){i.push("")}}return i}function q(t){return t!==undefined&&t!==null}function B(t){return t===";"||t==="&"||t==="?"}function J(t,e,n){e=t==="+"||t==="#"?D(e):encodeURIComponent(e);if(n){return encodeURIComponent(n)+"="+e}else{return e}}function D(t){return t.split(/(%[0-9A-Fa-f]{2})/g).map(function(t){if(!/%[0-9A-Fa-f]/.test(t)){t=encodeURI(t)}return t}).join("")}function M(t){var e=[],n=H(t.url,t.params,e);e.forEach(function(e){delete t.params[e]});return n}var X=document.documentMode;var F=document.createElement("a");function W(t,e){var n=this||{},r=t,o;if(b(t)){r={url:t,params:e}}r=A({},W.options,n.$options,r);W.transforms.forEach(function(t){o=G(t,o,n.$vm)});return o(r)}W.options={url:"",root:null,params:{}};W.transforms=[M,I,k];W.params=function(t){var e=[],n=encodeURIComponent;e.add=function(t,e){if(w(e)){e=e()}if(e===null){e=""}this.push(n(t)+"="+n(e))};V(e,t);return e.join("&").replace(/%20/g,"+")};W.parse=function(t){if(X){F.href=t;t=F.href}F.href=t;return{href:F.href,protocol:F.protocol?F.protocol.replace(/:$/,""):"",port:F.port,host:F.host,hostname:F.hostname,pathname:F.pathname.charAt(0)==="/"?F.pathname:"/"+F.pathname,search:F.search?F.search.replace(/^\?/,""):"",hash:F.hash?F.hash.replace(/^#/,""):""}};function G(t,e,n){return function(r){return t.call(n,r,e)}}function V(t,e,n){var r=v(e),o=x(e),i;C(e,function(e,u){i=T(e)||v(e);if(n){u=n+"["+(o||i?u:"")+"]"}if(!n&&r){t.add(e.name,e.value)}else if(i){V(t,e,u)}else{t.add(u,e)}})}function _(t){return new i(function(e){var n=new XDomainRequest,r=function(r){var o=t.respondWith(n.responseText,{status:n.status,statusText:n.statusText});e(o)};t.abort=function(){return n.abort()};n.open(t.method,t.getUrl(),true);n.timeout=0;n.onload=r;n.onerror=r;n.ontimeout=function(){};n.onprogress=function(){};n.send(t.getBody())})}var z=W.parse(location.href);var K="withCredentials"in new XMLHttpRequest;function Q(t,e){if(!g(t.crossOrigin)&&Y(t)){t.crossOrigin=true}if(t.crossOrigin){if(!K){t.client=_}delete t.emulateHTTP}e()}function Y(t){var e=W.parse(W(t));return e.protocol!==z.protocol||e.host!==z.host}function Z(t,e){if(E(t.body)){t.headers.delete("Content-Type")}else if(T(t.body)||v(t.body)){if(t.emulateJSON){t.body=W.params(t.body);t.headers.set("Content-Type","application/x-www-form-urlencoded")}else{t.body=JSON.stringify(t.body)}}e(function(t){Object.defineProperty(t,"data",{get:function(){return this.body},set:function(t){this.body=t}});return t.bodyText?O(t.text(),function(e){var n=t.headers.get("Content-Type");if(b(n)&&n.indexOf("application/json")===0){try{t.body=JSON.parse(e)}catch(e){t.body=null}}else{t.body=e}return t}):t})}function tt(t){return new i(function(e){var n=t.jsonp||"callback",r="_jsonp"+Math.random().toString(36).substr(2),o=null,i,u;i=function(n){var i=0;if(n.type==="load"&&o!==null){i=200}else if(n.type==="error"){i=404}e(t.respondWith(o,{status:i}));delete window[r];document.body.removeChild(u)};t.params[n]=r;window[r]=function(t){o=JSON.stringify(t)};u=document.createElement("script");u.src=t.getUrl();u.type="text/javascript";u.async=true;u.onload=i;u.onerror=i;document.body.appendChild(u)})}function et(t,e){if(t.method=="JSONP"){t.client=tt}e(function(e){if(t.method=="JSONP"){return O(e.json(),function(t){e.body=t;return e})}})}function nt(t,e){if(w(t.before)){t.before.call(this,t)}e()}function rt(t,e){if(t.emulateHTTP&&/^(PUT|PATCH|DELETE)$/i.test(t.method)){t.headers.set("X-HTTP-Method-Override",t.method);t.method="POST"}e()}function ot(t,e){var n=$({},wt.headers.common,!t.crossOrigin?wt.headers.custom:{},wt.headers[m(t.method)]);C(n,function(e,n){if(!t.headers.has(n)){t.headers.set(n,e)}});e()}function it(t,e){var n;if(t.timeout){n=setTimeout(function(){t.abort()},t.timeout)}e(function(t){clearTimeout(n)})}function ut(t){return new i(function(e){var n=new XMLHttpRequest,r=function(r){var o=t.respondWith("response"in n?n.response:n.responseText,{status:n.status===1223?204:n.status,statusText:n.status===1223?"No Content":d(n.statusText)});C(d(n.getAllResponseHeaders()).split("\n"),function(t){o.headers.append(t.slice(0,t.indexOf(":")),t.slice(t.indexOf(":")+1))});e(o)};t.abort=function(){return n.abort()};if(t.progress){if(t.method==="GET"){n.addEventListener("progress",t.progress)}else if(/^(POST|PUT)$/i.test(t.method)){n.upload.addEventListener("progress",t.progress)}}n.open(t.method,t.getUrl(),true);if("responseType"in n){n.responseType="blob"}if(t.credentials===true){n.withCredentials=true}t.headers.forEach(function(t,e){n.setRequestHeader(e,t)});n.timeout=0;n.onload=r;n.onerror=r;n.send(t.getBody())})}function st(t){var e=[ft],n=[],r;if(!T(t)){t=null}function o(o){return new i(function(i){function u(){r=e.pop();if(w(r)){r.call(t,o,s)}else{h("Invalid interceptor of type "+typeof r+", must be a function");s()}}function s(e){if(w(e)){n.unshift(e)}else if(T(e)){n.forEach(function(n){e=O(e,function(e){return n.call(t,e)||e})});O(e,i);return}u()}u()},t)}o.use=function(t){e.push(t)};return o}function ft(t,e){var n=t.client||ut;e(n(t))}var at=function(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}};var ct=function(){function t(e){var n=this;at(this,t);this.map={};C(e,function(t,e){return n.append(e,t)})}t.prototype.has=function t(e){return ht(this.map,e)!==null};t.prototype.get=function t(e){var n=this.map[ht(this.map,e)];return n?n[0]:null};t.prototype.getAll=function t(e){return this.map[ht(this.map,e)]||[]};t.prototype.set=function t(e,n){this.map[lt(ht(this.map,e)||e)]=[d(n)]};t.prototype.append=function t(e,n){var r=this.getAll(e);if(r.length){r.push(d(n))}else{this.set(e,n)}};t.prototype.delete=function t(e){delete this.map[ht(this.map,e)]};t.prototype.forEach=function t(e,n){var r=this;C(this.map,function(t,o){C(t,function(t){return e.call(n,t,o,r)})})};return t}();function ht(t,e){return Object.keys(t).reduce(function(t,n){return m(e)===m(n)?n:t},null)}function lt(t){if(/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t)){throw new TypeError("Invalid character in header field name")}return d(t)}var pt=function(){function t(e,n){var r=n.url;var o=n.headers;var i=n.status;var u=n.statusText;at(this,t);this.url=r;this.ok=i>=200&&i<300;this.status=i||0;this.statusText=u||"";this.headers=new ct(o);this.body=e;if(b(e)){this.bodyText=e}else if(j(e)){this.bodyBlob=e;if(mt(e)){this.bodyText=dt(e)}}}t.prototype.blob=function t(){return O(this.bodyBlob)};t.prototype.text=function t(){return O(this.bodyText)};t.prototype.json=function t(){return O(this.text(),function(t){return JSON.parse(t)})};return t}();function dt(t){return new i(function(e){var n=new FileReader;n.readAsText(t);n.onload=function(){e(n.result)}})}function mt(t){return t.type.indexOf("text")===0||t.type.indexOf("json")!==-1}var yt=function(){function t(e){at(this,t);this.body=null;this.params={};$(this,e,{method:y(e.method||"GET")});if(!(this.headers instanceof ct)){this.headers=new ct(this.headers)}}t.prototype.getUrl=function t(){return W(this)};t.prototype.getBody=function t(){return this.body};t.prototype.respondWith=function t(e,n){return new pt(e,$(n||{},{url:this.getUrl()}))};return t}();var vt={"X-Requested-With":"XMLHttpRequest"};var bt={Accept:"application/json, text/plain, */*"};var gt={"Content-Type":"application/json;charset=utf-8"};function wt(t){var e=this||{},n=st(e.$vm);R(t||{},e.$options,wt.options);wt.interceptors.forEach(function(t){n.use(t)});return n(new yt(t)).then(function(t){return t.ok?t:i.reject(t)},function(t){if(t instanceof Error){l(t)}return i.reject(t)})}wt.options={};wt.headers={put:gt,post:gt,patch:gt,delete:gt,custom:vt,common:bt};wt.interceptors=[nt,it,rt,Z,et,ot,Q];["get","delete","head","jsonp"].forEach(function(t){wt[t]=function(e,n){return this($(n||{},{url:e,method:t}))}});["post","put","patch"].forEach(function(t){wt[t]=function(e,n,r){return this($(r||{},{url:e,method:t,body:n}))}});function Tt(t,e,n,r){var o=this||{},i={};n=$({},Tt.actions,n);C(n,function(n,u){n=A({url:t,params:$({},e)},r,n);i[u]=function(){return(o.$http||wt)(xt(n,arguments))}});return i}function xt(t,e){var n=$({},t),r={},o;switch(e.length){case 2:r=e[0];o=e[1];break;case 1:if(/^(POST|PUT|PATCH)$/i.test(n.method)){o=e[0]}else{r=e[0]}break;case 0:break;default:throw"Expected up to 4 arguments [params, body], got "+e.length+" arguments"}n.body=o;n.params=$({},n.params,r);return n}Tt.actions={get:{method:"GET"},save:{method:"POST"},query:{method:"GET"},update:{method:"PUT"},remove:{method:"DELETE"},delete:{method:"DELETE"}};function jt(t){if(jt.installed){return}c(t);t.url=W;t.http=wt;t.resource=Tt;t.Promise=i;Object.defineProperties(t.prototype,{$url:{get:function(){return P(t.url,this,this.$options.url)}},$http:{get:function(){return P(t.http,this,this.$options.http)}},$resource:{get:function(){return t.resource.bind(this)}},$promise:{get:function(){var e=this;return function(n){return new t.Promise(n,e)}}}})}if(typeof window!=="undefined"&&window.Vue){window.Vue.use(jt)}return jt});