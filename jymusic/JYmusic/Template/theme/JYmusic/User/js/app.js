/* http://mths.be/placeholder v2.0.7 by @mathias */
(function(u,w,r){var n="placeholder" in w.createElement("input");var s="placeholder" in w.createElement("textarea");var x=r.fn;var q=r.valHooks;var o=r.propHooks;var z;var y;if(n&&s){y=x.placeholder=function(){return this};y.input=y.textarea=true}else{y=x.placeholder=function(){var a=this;a.filter((n?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":p,"blur.placeholder":t}).data("placeholder-enabled",true).trigger("blur.placeholder");return a};y.input=n;y.textarea=s;z={get:function(b){var a=r(b);var c=a.data("placeholder-password");if(c){return c[0].value}return a.data("placeholder-enabled")&&a.hasClass("placeholder")?"":b.value},set:function(b,d){var a=r(b);var c=a.data("placeholder-password");if(c){return c[0].value=d}if(!a.data("placeholder-enabled")){return b.value=d}if(d==""){b.value=d;if(b!=w.activeElement){t.call(b)}}else{if(a.hasClass("placeholder")){p.call(b,true,d)||(b.value=d)}else{b.value=d}}return a}};if(!n){q.input=z;o.value=z}if(!s){q.textarea=z;o.value=z}r(function(){r(w).delegate("form","submit.placeholder",function(){var a=r(".placeholder",this).each(p);setTimeout(function(){a.each(t)},10)})});r(u).bind("beforeunload.placeholder",function(){r(".placeholder").each(function(){this.value=""})})}function v(b){var a={};var c=/^jQuery\d+$/;r.each(b.attributes,function(e,d){if(d.specified&&!c.test(d.name)){a[d.name]=d.value}});return a}function p(b,c){var a=this;var d=r(a);if(a.value==d.attr("placeholder")&&d.hasClass("placeholder")){if(d.data("placeholder-password")){d=d.hide().next().show().attr("id",d.removeAttr("id").data("placeholder-id"));if(b===true){return d[0].value=c}d.focus()}else{a.value="";d.removeClass("placeholder");a==w.activeElement&&a.select()}}}function t(){var e;var a=this;var d=r(a);var c=this.id;if(a.value==""){if(a.type=="password"){if(!d.data("placeholder-textinput")){try{e=d.clone().attr({type:"text"})}catch(b){e=r("<input>").attr(r.extend(v(this),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":d,"placeholder-id":c}).bind("focus.placeholder",p);d.data({"placeholder-textinput":e,"placeholder-id":c}).before(e)}d=d.removeAttr("id").hide().prev().attr("id",c).show()}d.addClass("placeholder");d[0].value=d.attr("placeholder")}else{d.removeClass("placeholder")}}}(this,document,jQuery));window.Modernizr=function(C,E,G){function aa(b){N.cssText=b}function ab(c,d){return aa(Q.join(c+";")+(d||""))}function ac(c,d){return typeof c===d}function ad(c,d){return !!~(""+c).indexOf(d)}function D(c,g,h){for(var i in c){var j=g[c[i]];if(j!==G){return h===!1?c[i]:ac(j,"function")?j.bind(h||g):j}}return !1}var H="2.6.2",I={},J=!0,K=E.documentElement,L="modernizr",M=E.createElement(L),N=M.style,O,P={}.toString,Q=" -webkit- -moz- -o- -ms- ".split(" "),R={},S={},T={},U=[],V=U.slice,W,X=function(b,g,h,o){var p,q,r,s,t=E.createElement("div"),u=E.body,v=u||E.createElement("body");if(parseInt(h,10)){while(h--){r=E.createElement("div"),r.id=o?o[h]:L+(h+1),t.appendChild(r)}}return p=["&#173;",'<style id="s',L,'">',b,"</style>"].join(""),t.id=L,(u?t:v).innerHTML+=p,v.appendChild(t),u||(v.style.background="",v.style.overflow="hidden",s=K.style.overflow,K.style.overflow="hidden",K.appendChild(v)),q=g(t,b),u?t.parentNode.removeChild(t):(v.parentNode.removeChild(v),K.style.overflow=s),!!q},Y={}.hasOwnProperty,Z;!ac(Y,"undefined")&&!ac(Y.call,"undefined")?Z=function(c,d){return Y.call(c,d)}:Z=function(c,d){return d in c&&ac(c.constructor.prototype[d],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(a){var f=this;if(typeof f!="function"){throw new TypeError}var g=V.call(arguments,1),h=function(){if(this instanceof h){var b=function(){};b.prototype=f.prototype;var c=new b,d=f.apply(c,g.concat(V.call(arguments)));return Object(d)===d?d:c}return f.apply(a,g.concat(V.call(arguments)))};return h}),R.touch=function(){var a;return"ontouchstart" in C||C.DocumentTouch&&E instanceof DocumentTouch?a=!0:X(["@media (",Q.join("touch-enabled),("),L,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(b){a=b.offsetTop===9}),a};for(var F in R){Z(R,F)&&(W=F.toLowerCase(),I[W]=R[F](),U.push((I[W]?"":"no-")+W))}return I.addTest=function(c,e){if(typeof c=="object"){for(var f in c){Z(c,f)&&I.addTest(f,c[f])}}else{c=c.toLowerCase();if(I[c]!==G){return I}e=typeof e=="function"?e():e,typeof J!="undefined"&&J&&(K.className+=" "+(e?"":"no-")+c),I[c]=e}return I},aa(""),M=O=null,I._version=H,I._prefixes=Q,I.testStyles=X,K.className=K.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(J?" js "+U.join(" "):""),I}(this,this.document);Modernizr.addTest("android",function(){return !!navigator.userAgent.match(/Android/i)});Modernizr.addTest("chrome",function(){return !!navigator.userAgent.match(/Chrome/i)});Modernizr.addTest("firefox",function(){return !!navigator.userAgent.match(/Firefox/i)});Modernizr.addTest("iemobile",function(){return !!navigator.userAgent.match(/IEMobile/i)});Modernizr.addTest("ie",function(){return !!navigator.userAgent.match(/MSIE/i)});Modernizr.addTest("ie8",function(){return !!navigator.userAgent.match(/MSIE 8/i)});Modernizr.addTest("ie10",function(){return !!navigator.userAgent.match(/MSIE 10/i)});Modernizr.addTest("ie11",function(){return !!navigator.userAgent.match(/Trident.*rv:11\./)});Modernizr.addTest("ios",function(){return !!navigator.userAgent.match(/iPhone|iPad|iPod/i)});Modernizr.addTest("ios7 ipad",function(){return !!navigator.userAgent.match(/iPad;.*CPU.*OS 7_\d/i)});
/*
* screenfull
* v1.0.4 - 2013-05-26
* https://github.com/sindresorhus/scre enfull.js
* (c) Sindre Sorhus; MIT License
*/
(function(f,g){var h="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT" in Element,i=function(){for(var b,k,l=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"]],m=0,n=l.length,o={};n>m;m++){if(b=l[m],b&&b[1] in g){for(m=0,k=b.length;k>m;m++){o[l[0][m]]=b[m]}return o}}return !1}(),j={request:function(b){var c=i.requestFullscreen;b=b||g.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?b[c]():b[c](h&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){g[i.exitFullscreen]()},toggle:function(b){this.isFullscreen?this.exit():this.request(b)},onchange:function(){},onerror:function(){},raw:i};return i?(Object.defineProperties(j,{isFullscreen:{get:function(){return !!g[i.fullscreenElement]}},element:{enumerable:!0,get:function(){return g[i.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return !!g[i.fullscreenEnabled]}}}),g.addEventListener(i.fullscreenchange,function(b){j.onchange.call(j,b)}),g.addEventListener(i.fullscreenerror,function(b){j.onerror.call(j,b)}),f.screenfull=j,void 0):f.screenfull=!1})(window,document);+function(a){var b=function(c){this.$element=a(c);this.$prev=this.$element.prev();!this.$prev.length&&(this.$parent=this.$element.parent())};b.prototype={constructor:b,init:function(){var c=this.$element,e=c.data()["toggle"].split(":")[1],d=c.data("target");c.hasClass("in")||c[e](d).addClass("in")},reset:function(){this.$parent&&this.$parent.prepend(this.$element);!this.$parent&&this.$element.insertAfter(this.$prev);this.$element.removeClass("in")}};a.fn.shift=function(c){return this.each(function(){var d=a(this),e=d.data("shift");if(!e){d.data("shift",(e=new b(this)))}if(typeof c=="string"){e[c]()}})};a.fn.shift.Constructor=b}(jQuery);Date.now=Date.now||function(){return +new Date};+function(a){a(function(){a(document).on("click","[data-toggle=fullscreen]",function(h){h.preventDefault();if(screenfull.enabled){screenfull.request()}});a("input[placeholder], textarea[placeholder]").placeholder();a("[data-toggle=popover]").popover();a(document).on("click",".popover-title .close",function(j){var i=a(j.target),h=i.closest(".popover").prev();h&&h.popover("hide")});a(document).on("click",'[data-toggle="ajaxModal"]',function(k){a("#ajaxModal").remove();k.preventDefault();var j=a(this),i=j.data("remote")||j.attr("href"),h=a('<div class="modal fade" id="ajaxModal"><div class="modal-body"></div></div>');a("body").append(h);h.modal();h.load(i)});a.fn.dropdown.Constructor.prototype.change=function(m){m.preventDefault();var i=a(m.target),l,h=false,k,j;!i.is("a")&&(i=i.closest("a"));k=i.closest(".dropdown-menu");j=k.parent().find(".dropdown-label");$labelHolder=j.text();l=i.parent().find("input");h=l.is(":checked");if(l.is(":disabled")){return}if(l.attr("type")=="radio"&&h){return}if(l.attr("type")=="radio"){k.find("li").removeClass("active")}i.parent().removeClass("active");!h&&i.parent().addClass("active");l.prop("checked",!l.prop("checked"));$items=k.find("li > input:checked");if($items.length){$text=[];$items.each(function(){var n=a(this).parent().text();n&&$text.push(a.trim(n))});$text=$text.length<4?$text.join(", "):$text.length+" selected";j.html($text)}else{j.html(j.data("placeholder"))}};a(document).on("click.dropdown-menu",".dropdown-select > li > a",a.fn.dropdown.Constructor.prototype.change);a("[data-toggle=tooltip]").tooltip();a(document).on("click",'[data-toggle^="class"]',function(n){n&&n.preventDefault();var l=a(n.target),h,j,m,i,k;!l.data("toggle")&&(l=l.closest('[data-toggle^="class"]'));h=l.data()["toggle"];j=l.data("target")||l.attr("href");h&&(m=h.split(":")[1])&&(i=m.split(","));j&&(k=j.split(","));i&&i.length&&a.each(k,function(o,q){if(i[o].indexOf("*")!==-1){var p=new RegExp("\\s"+i[o].replace(/\*/g,"[A-Za-z0-9-_]+").split(" ").join("\\s|\\s")+"\\s","g");a(l).each(function(s,t){var r=" "+t.className+" ";while(p.test(r)){r=r.replace(p," ")}t.className=a.trim(r)})}(k[o]!="#")&&a(k[o]).toggleClass(i[o])||l.toggleClass(i[o])});l.toggleClass("active")});a(document).on("click",".panel-toggle",function(k){k&&k.preventDefault();var j=a(k.target),h="collapse",i;if(!j.is("a")){j=j.closest("a")}i=j.closest(".panel");i.find(".panel-body").toggleClass(h);j.toggleClass("active")});a(".carousel.auto").carousel();a(document).on("click.button.data-api","[data-loading-text]",function(i){var h=a(i.target);h.is("i")&&(h=h.parent());h.button("loading")});var d=a(window);var f=function(h){if(h=="reset"){a('[data-toggle^="shift"]').shift("reset");return true}a('[data-toggle^="shift"]').shift("init");return true};d.width()<768&&f();var b,c=d.width();d.resize(function(){if(c!==d.width()){clearTimeout(b);b=setTimeout(function(){g();d.width()<768&&f();d.width()>=768&&f("reset")&&e();c=d.width()},500)}});var g=function(){a(".app-fluid #nav > *").css("min-height",a(window).height()-60);return true};g();var e=function(){a(".ie11 .vbox").each(function(){a(this).height(a(this).parent().height())});return true};e();a(document).on("click",'[data-ride="collapse"] a',function(j){var i=a(j.target),h;i.is("a")||(i=i.closest("a"));h=i.parent().siblings(".active");h&&h.toggleClass("active").find("> ul:visible").slideUp(200);(i.parent().hasClass("active")&&i.next().slideUp(200))||i.next().slideDown(200);i.parent().toggleClass("active");i.next().is("ul")&&j.preventDefault();setTimeout(function(){a(document).trigger("updateNav")},300)});a(document).on("click.bs.dropdown.data-api",".dropdown .on, .dropup .on, .open .on",function(h){h.stopPropagation()})})}(jQuery);$(function(){$(".ajax-post-from").click(function(){var that=$(this);var self=that.parents("form");var text=that.text();that.text("正在提交....").addClass("disabled").prop("disabled",true);$.post(self.attr("action"),self.serialize(),success,"json");return false;function success(data){if(data.status){if(data.url){infoAlert(data.info+" 页面即将自动跳转!",true);setTimeout(function(){location.href=data.url},1500)}else{infoAlert(data.info,true);that.text(text).removeClass("disabled").prop("disabled",false)}}else{if(data.url){infoAlert(data.info+" 页面即将自动跳转!");setTimeout(function(){location.href=data.url},1500)}else{infoAlert(data.info);that.text(text).removeClass("disabled").prop("disabled",false);if($(".reloadverify")){$(".reloadverify").click()}}}}});$(document).on("click",".music-action-btn",function(){self=$(this);var url,remove=false,callbck=false;m_id=self.attr("data-id"),m_action=self.attr("data-action"),m_type=self.attr("data-type");m_type=!m_type?"song":m_type;switch(m_action){case"fav":url=JYMUSIC.APP+"/Music/addFav";callbck="replacebtn";break;case"delfav":url=JYMUSIC.APP+"/Music/delFav";remove=true;callbck="replacebtn";break;case"recommend":url=JYMUSIC.APP+"/Music/addRecommend";callbck="replacebtn";break;case"delrecommend":url=JYMUSIC.APP+"/Music/delRecommend";callbck="replacebtn";remove=true;break;case"like":url=JYMUSIC.APP+"/Music/addLike";callbck="replacebtn";break;case"dellike":url=JYMUSIC.APP+"/Music/delLike";callbck="replacebtn";remove=true;break;case"follow":url=JYMUSIC.APP+"/Music/addFollow";callbck="replacefollow";break;case"delfollow":url=JYMUSIC.APP+"/Music/delFollow";callbck="replacefollow";break;case"dellisten":url=JYMUSIC.APP+"/Music/delListen";remove=true;break;case"deldown":url=JYMUSIC.APP+"/Music/delDown";remove=true;break;default:infoAlert("按钮设置不正确！")}$.ajax({type:"POST",url:url,data:{id:m_id,type:m_type,},dataType:"json",success:function(data){if(data){if(data.status==1){var numobj=self.find(".num");if(numobj.size()>0){var num=numobj.html();numobj.html(Number(num)+1)}if(remove){var classname=self.attr("remove-parent");var parent=self.parents(classname);if(parent.size()>0){self.parents(classname).remove()}}if(callbck){eval(callbck+"()")}infoAlert(data.info,true)}else{infoAlert(data.info)}}}});return false});var verifyimg=$(".verifyimg").attr("src");$(".reloadverify").click(function(){if(verifyimg.indexOf("?")>0){$(".verifyimg").attr("src",verifyimg+"&random="+Math.random())}else{$(".verifyimg").attr("src",verifyimg.replace(/\?.*$/,"")+"?"+Math.random())}});$(".ajax-post-letter").click(function(){var that=$(this);var self=that.parents("form");var text=that.text();that.text("正在提交....").addClass("disabled").prop("disabled",true);$.post(self.attr("action"),self.serialize(),success,"json");function success(data){if(data.status){infoAlert(data.info,true);setTimeout(function(){$(".close").click()},2000);that.text(text).removeClass("disabled").prop("disabled",false);if(data.url){location.href=data.url}}else{infoAlert(data.info);that.text(text).removeClass("disabled").prop("disabled",false)}}});$(".reply-letter").click(function(){var that=$(this);var replyid=that.attr("data-reply"),toid=that.attr("data-toid");$("input[name='reply']").attr("value",replyid);$("input[name='toid']").attr("value",toid);$("#reply-letter").modal("show")});$(".btn-del").click(function(){var $this=$(this),url=$this.attr("data-url"),classname=$this.attr("remove-parent");$.getJSON(url,function(data){if(0==data.status){infoAlert(data.info)}else{infoAlert(data.info,true);if(classname){$this.parents(classname).remove()}}})});$(".del-all").click(function(){var $this=$(this),url=$this.attr("data-url");$.getJSON(url,function(data){if(0==data.status){infoAlert(data.info);if(data.url){infoAlert(data.info+" 页面即将自动跳转!");setTimeout(function(){location.href=data.url},1500)}}else{infoAlert(data.info,true)}})})});(function(a,h,d){var c={},f={},g=function(i){if(a.type(i)=="string"){i={message:i}}if(arguments[1]){i=a.extend(i,a.type(arguments[1])=="string"?{status:arguments[1]}:arguments[1])}return(new e(i)).show()},b=function(i,k){if(i){for(var j in f){if(i===f[j].group){f[j].close(k)}}}else{for(var j in f){f[j].close(k)}}};var e=function(j){var i=this;this.options=a.extend({},e.defaults,j);this.uuid="ID"+(new Date().getTime())+"RAND"+(Math.ceil(Math.random()*100000));this.element=a(['<div class="uk-notify-message alert-dismissable">','<a class="close text-muted">&times;</a>',"<div>"+this.options.message+"</div>","</div>"].join("")).data("notifyMessage",this);if(this.options.status){this.element.addClass("alert alert-"+this.options.status);this.currentstatus=this.options.status}this.group=this.options.group;f[this.uuid]=this;if(!c[this.options.pos]){c[this.options.pos]=a('<div class="uk-notify uk-notify-'+this.options.pos+'"></div>').appendTo("body").on("click",".uk-notify-message",function(){a(this).data("notifyMessage").close()})}};a.extend(e.prototype,{uuid:false,element:false,timout:false,currentstatus:"",group:false,show:function(){if(this.element.is(":visible")){return}var i=this;c[this.options.pos].show().prepend(this.element);var j=parseInt(this.element.css("margin-bottom"),10);this.element.css({opacity:0,"margin-top":-1*this.element.outerHeight(),"margin-bottom":0}).animate({opacity:1,"margin-top":0,"margin-bottom":j},function(){if(i.options.timeout){var k=function(){i.close()};i.timeout=setTimeout(k,i.options.timeout);i.element.hover(function(){clearTimeout(i.timeout)},function(){i.timeout=setTimeout(k,i.options.timeout)})}});return this},close:function(k){var i=this,j=function(){i.element.remove();if(!c[i.options.pos].children().length){c[i.options.pos].hide()}delete f[i.uuid]};if(this.timeout){clearTimeout(this.timeout)}if(k){j()}else{this.element.animate({opacity:0,"margin-top":-1*this.element.outerHeight(),"margin-bottom":0},function(){j()})}},content:function(j){var i=this.element.find(">div");if(!j){return i.html()}i.html(j);return this},status:function(i){if(!i){return this.currentstatus}this.element.removeClass("alert alert-"+this.currentstatus).addClass("alert alert-"+i);this.currentstatus=i;return this}});e.defaults={message:"",status:"normal",timeout:5000,group:null,pos:"top-center"};a.notify=g;a.notify.message=e;a.notify.closeAll=b;return g}(jQuery,window,document));function infoAlert(b,c){var a="danger";if(c){a="success"}if(!b){$.error("通知:没有指定的信息")}$.notify(b,{status:a})}function replacefollow(){var a=self.attr("data-action");if(a=="delfollow"){self.attr("data-action","follow");self.addClass("btn-success");self.removeClass("btn-danger");self.html('<i class="fa fa-plus"></i>  添加关注')}else{self.attr("data-action","delfollow");self.addClass("btn-danger");self.removeClass("btn-success");self.html('<i class="fa fa-times"></i>  取消关注')}}function replacebtn(){var a=self.attr("data-action");if(a.indexOf("del")){var b=a.substring(0,a.length+3);self.attr("data-action",b)}else{self.attr("data-action","del"+a)}};