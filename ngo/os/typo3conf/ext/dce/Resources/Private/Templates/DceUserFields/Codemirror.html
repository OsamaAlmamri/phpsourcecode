<div id="dceConfigurationWizard">
	<f:if condition="{parameters.showTemplates}">
		<f:then>
			<f:render partial="ConfigurationEditor/AvailableTemplates" arguments="{uniqueIdentifier:uniqueIdentifier, availableTemplates:availableTemplates}"  />
		</f:then>
		<f:else>
			<f:render partial="ConfigurationEditor/AvailableVariables" arguments="{showFields:showFields,uniqueIdentifier:uniqueIdentifier, availableFields:availableFields, famousViewHelpers:famousViewHelpers, dceViewHelpers:dceViewHelpers}"  />
		</f:else>
	</f:if>
	<div>
		<textarea class="dce-codemirror" data-mode="{parameters.mode}" id="codemirror_{uniqueIdentifier}" name={name} cols="80" rows="15" onchange="{onChangeFunc}">{value}</textarea>
	</div>
</div>

<script type="text/javascript">
	require(['TYPO3/CMS/Dce/DceCodemirror'], function(DceCodemirror) {
		DceCodemirror.initCodeMirrorEditor('#codemirror_{uniqueIdentifier}', '{parameters.mode}');
	});
</script>
